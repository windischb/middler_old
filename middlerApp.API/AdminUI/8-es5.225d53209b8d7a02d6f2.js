function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{W1ZG:function(e,t,n){"use strict";n.r(t),n.d(t,"GlobalVariablesModule",(function(){return At}));var i,r=n("ofXK"),a=n("tyNb"),o=n("fXoL"),c=n("ZF+8"),s=n("lJxs"),l=n("pLZG"),u=n("rDsv"),d=function e(){_classCallCheck(this,e)},f=n("5+tZ"),h=n("IzEk"),p=n("vkgz"),g=n("eIep"),m=n("2Vo4"),b=function e(){_classCallCheck(this,e)},v=((i=function(){function e(t){var n=this;_classCallCheck(this,e),this.messages=t,this.rootNodeSubject$=new m.a(new d),this.rootNode$=this.rootNodeSubject$.asObservable(),this.SelectedFolderSubject$=new m.a(null),this.SelectedFolder$=this.SelectedFolderSubject$.asObservable(),this.SelectedFolderItemsSubject$=new m.a(null),this.SelectedFolderItems$=this.SelectedFolderItemsSubject$.asObservable(),this.messages.RunOnEveryReconnect((function(){return n.GetFolderTree().subscribe()})),this.messages.Stream("Variables.Subscribe").pipe(Object(f.a)((function(e){return n.GetFolderTree()}))).subscribe(),this.GetFolderTree().subscribe()}return _createClass(e,[{key:"GetFolderTree",value:function(){var e=this;return this.messages.Invoke("Variables.GetFolderTree").pipe(Object(h.a)(1),Object(p.a)((function(t){e.rootNodeSubject$.next(t)})))}},{key:"GetVariablesInSelectedFolder",value:function(){var e=this;return this.messages.Invoke("Variables.GetVariablesInParent",this.SelectedFolderSubject$.getValue().Path).pipe(Object(h.a)(1),Object(p.a)((function(t){return e.SelectedFolderItemsSubject$.next(t)})))}},{key:"NewFolder",value:function(e,t){return console.log(e,t),this.messages.Invoke("Variables.NewFolder",e,t).pipe(Object(h.a)(1))}},{key:"RenameFolder",value:function(e,t,n){return this.messages.Invoke("Variables.RenameFolder",e,t,n).pipe(Object(h.a)(1))}},{key:"RemoveFolder",value:function(e,t){return this.messages.Invoke("Variables.RemoveFolder",e,t).pipe(Object(h.a)(1))}},{key:"GetVariable",value:function(e,t){return this.messages.Invoke("Variables.GetVariable",e,t).pipe(Object(h.a)(1))}},{key:"UpdateVariableContent",value:function(e,t,n){var i=this;return console.log("Variables.UpdateVariableContent",e,t,n),this.messages.Invoke("Variables.UpdateVariableContent",e,t,n).pipe(Object(h.a)(1),Object(g.a)((function(e){return i.GetVariablesInSelectedFolder()})))}},{key:"CreateVariable",value:function(e){var t=this;return this.messages.Invoke("Variables.CreateVariable",e).pipe(Object(h.a)(1),Object(g.a)((function(e){return t.GetVariablesInSelectedFolder()})))}},{key:"RemoveVariable",value:function(e,t){var n=this;return this.messages.Invoke("Variables.RemoveVariable",e,t).pipe(Object(h.a)(1),Object(g.a)((function(e){return n.GetVariablesInSelectedFolder()})))}},{key:"GetTypings",value:function(){return this.messages.Invoke("Variables.GetTypings").pipe(Object(h.a)(1))}},{key:"SetSelectedFolder",value:function(e){this.SelectedFolderSubject$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||i)(o.kc(c.b))},i.\u0275prov=o.Wb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),C=n("h0m+"),x=n("Nqz0"),y=n("XNiG"),S=n("HDdC"),M=n("Kj3r"),k=["gutterEls"];function P(e,t){if(1&e){var n=o.hc();o.gc(0,"div",2,3),o.oc("mousedown",(function(e){o.Ic(n);var t=o.rc().index;return o.rc().startDragging(e,2*t+1,t+1)}))("touchstart",(function(e){o.Ic(n);var t=o.rc().index;return o.rc().startDragging(e,2*t+1,t+1)}))("mouseup",(function(e){o.Ic(n);var t=o.rc().index;return o.rc().clickGutter(e,t+1)}))("touchend",(function(e){o.Ic(n);var t=o.rc().index;return o.rc().clickGutter(e,t+1)})),o.bc(2,"div",4),o.fc()}if(2&e){var i=o.rc().index,r=o.rc();o.Pc("flex-basis",r.gutterSize,"px")("order",2*i+1)}}function _(e,t){1&e&&o.Qc(0,P,3,4,"div",1),2&e&&o.yc("ngIf",!1===t.last)}var A=["*"];function z(e){return void 0!==e.changedTouches&&e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0!==e.clientX&&void 0!==e.clientY?{x:e.clientX,y:e.clientY}:null}function O(e,t){var n=e.nativeElement.getBoundingClientRect();return"horizontal"===t?n.width:n.height}function w(e){return"boolean"==typeof e?e:"false"!==e}function I(e,t){return null==e?t:(e=Number(e),!isNaN(e)&&e>=0?e:t)}function E(e,t){if("percent"===e){var n=t.reduce((function(e,t){return null!==t?e+t:e}),0);return t.every((function(e){return null!==e}))&&n>99.9&&n<100.1}if("pixel"===e)return 1===t.filter((function(e){return null===e})).length}function F(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function N(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function R(e,t,n,i){return t.reduce((function(t,n){var r=function(e,t,n,i){return 0===n?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:t.sizePercentAtStart,pixelRemain:0}:0===t.sizePixelAtStart&&n<0?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===e?function(e,t,n){var i=(e.sizePixelAtStart+t)/n*100;if(t>0){if(null!==e.area.maxSize&&i>e.area.maxSize){var r=e.area.maxSize/100*n;return{areaSnapshot:e,pixelAbsorb:r,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+t-r}}return{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(t<0){if(null!==e.area.minSize&&i<e.area.minSize){var a=e.area.minSize/100*n;return{areaSnapshot:e,pixelAbsorb:a,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+t-a}}return i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i,pixelRemain:0}}}(t,n,i):"pixel"===e?function(e,t,n){var i=e.sizePixelAtStart+t;return t>0?null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:t<0?null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+t-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(t,n):void 0}(e,n,t.remain,i);return t.list.push(r),t.remain=r.pixelRemain,t}),{remain:n,list:[]})}function D(e,t){"percent"===e?t.areaSnapshot.area.size=t.percentAfterAbsorption:"pixel"===e&&null!==t.areaSnapshot.area.size&&(t.areaSnapshot.area.size=t.areaSnapshot.sizePixelAtStart+t.pixelAbsorb)}var V,T,G,j,$=((G=function(){function e(t,n,i,r){_classCallCheck(this,e),this.ngZone=t,this.elRef=n,this.cdRef=i,this.renderer=r,this._direction="horizontal",this._unit="percent",this._gutterSize=11,this._gutterStep=1,this._restrictMove=!1,this._useTransition=!1,this._disabled=!1,this._dir="ltr",this._gutterDblClickDuration=0,this.dragStart=new o.q(!1),this.dragEnd=new o.q(!1),this.gutterClick=new o.q(!1),this.gutterDblClick=new o.q(!1),this.dragProgressSubject=new y.a,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hidedAreas=[],this._clickTimeout=null,this.direction=this._direction}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){setTimeout((function(){return e.renderer.addClass(e.elRef.nativeElement,"as-init")}))}))}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(e){var t={component:e,order:0,size:0,minSize:null,maxSize:null};!0===e.visible?(this.displayedAreas.push(t),this.build(!0,!0)):this.hidedAreas.push(t)}},{key:"removeArea",value:function(e){if(this.displayedAreas.some((function(t){return t.component===e}))){var t=this.displayedAreas.find((function(t){return t.component===e}));this.displayedAreas.splice(this.displayedAreas.indexOf(t),1),this.build(!0,!0)}else if(this.hidedAreas.some((function(t){return t.component===e}))){var n=this.hidedAreas.find((function(t){return t.component===e}));this.hidedAreas.splice(this.hidedAreas.indexOf(n),1)}}},{key:"updateArea",value:function(e,t,n){!0===e.visible&&this.build(t,n)}},{key:"showArea",value:function(e){var t,n=this.hidedAreas.find((function(t){return t.component===e}));if(void 0!==n){var i=this.hidedAreas.splice(this.hidedAreas.indexOf(n),1);(t=this.displayedAreas).push.apply(t,_toConsumableArray(i)),this.build(!0,!0)}}},{key:"hideArea",value:function(e){var t,n=this.displayedAreas.find((function(t){return t.component===e}));if(void 0!==n){var i=this.displayedAreas.splice(this.displayedAreas.indexOf(n),1);i.forEach((function(e){e.order=0,e.size=0})),(t=this.hidedAreas).push.apply(t,_toConsumableArray(i)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map((function(e){return null===e.size?"*":e.size}))}},{key:"setVisibleAreaSizes",value:function(e){if(e.length!==this.displayedAreas.length)return!1;var t=e.map((function(e){return I(e,null)}));return!1!==E(this.unit,t)&&(this.displayedAreas.forEach((function(e,n){return e.component._size=t[n]})),this.build(!1,!0),!0)}},{key:"build",value:function(e,t){if(this.stopDragging(),!0===e&&(this.displayedAreas.every((function(e){return null!==e.component.order}))&&this.displayedAreas.sort((function(e,t){return e.component.order-t.component.order})),this.displayedAreas.forEach((function(e,t){e.order=2*t,e.component.setStyleOrder(e.order)}))),!0===t){var n=E(this.unit,this.displayedAreas.map((function(e){return e.component.size})));switch(this.unit){case"percent":var i=100/this.displayedAreas.length;this.displayedAreas.forEach((function(e){e.size=n?e.component.size:i,e.minSize=F(e),e.maxSize=N(e)}));break;case"pixel":if(n)this.displayedAreas.forEach((function(e){e.size=e.component.size,e.minSize=F(e),e.maxSize=N(e)}));else{var r=this.displayedAreas.filter((function(e){return null===e.component.size}));if(0===r.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((function(e,t){e.size=0===t?null:e.component.size,e.minSize=0===t?null:F(e),e.maxSize=0===t?null:N(e)}));else if(r.length>1){var a=!1;this.displayedAreas.forEach((function(e){null===e.component.size?!1===a?(e.size=null,e.minSize=null,e.maxSize=null,a=!0):(e.size=100,e.minSize=null,e.maxSize=null):(e.size=e.component.size,e.minSize=F(e),e.maxSize=N(e))}))}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var e=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach((function(e){e.component.setStyleFlex(0,0,"calc( ".concat(e.size,"% - ").concat(e.size/100*t,"px )"),null!==e.minSize&&e.minSize===e.size,null!==e.maxSize&&e.maxSize===e.size)}))}else"pixel"===this.unit&&this.displayedAreas.forEach((function(t){null===t.size?t.component.setStyleFlex(1,1,1===e.displayedAreas.length?"100%":"auto",!1,!1):1===e.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,"".concat(t.size,"px"),null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)}))}},{key:"clickGutter",value:function(e,t){var n=this,i=z(e);this.startPoint&&this.startPoint.x===i.x&&this.startPoint.y===i.y&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",t),this.stopDragging()):this._clickTimeout=window.setTimeout((function(){n._clickTimeout=null,n.notify("click",t),n.stopDragging()}),this.gutterDblClickDuration))}},{key:"startDragging",value:function(e,t,n){var i=this;e.preventDefault(),e.stopPropagation(),this.startPoint=z(e),null!==this.startPoint&&!0!==this.disabled&&(this.snapshot={gutterNum:n,lastSteppedOffset:0,allAreasSizePixel:O(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach((function(e){var n={area:e,sizePixelAtStart:O(e.component.elRef,i.direction),sizePercentAtStart:"percent"===i.unit?e.size:-1};e.order<t?!0===i.restrictMove?i.snapshot.areasBeforeGutter=[n]:i.snapshot.areasBeforeGutter.unshift(n):e.order>t&&(!0===i.restrictMove?0===i.snapshot.areasAfterGutter.length&&(i.snapshot.areasAfterGutter=[n]):i.snapshot.areasAfterGutter.push(n))})),this.snapshot.allInvolvedAreasSizePercent=[].concat(_toConsumableArray(this.snapshot.areasBeforeGutter),_toConsumableArray(this.snapshot.areasAfterGutter)).reduce((function(e,t){return e+t.sizePercentAtStart}),0),0!==this.snapshot.areasBeforeGutter.length&&0!==this.snapshot.areasAfterGutter.length&&(this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular((function(){i.dragListeners.push(i.renderer.listen("document","mousemove",i.dragEvent.bind(i))),i.dragListeners.push(i.renderer.listen("document","touchmove",i.dragEvent.bind(i)))})),this.displayedAreas.forEach((function(e){return e.component.lockEvents()})),this.isDragging=!0,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)))}},{key:"dragEvent",value:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),null!==this._clickTimeout&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=z(e),null!==this.endPoint)){var n="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(n=-n);var i=Math.round(n/this.gutterStep)*this.gutterStep;if(i!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=i;var r=R(this.unit,this.snapshot.areasBeforeGutter,-i,this.snapshot.allAreasSizePixel),a=R(this.unit,this.snapshot.areasAfterGutter,i,this.snapshot.allAreasSizePixel);if(0!==r.remain&&0!==a.remain?Math.abs(r.remain)===Math.abs(a.remain)||(Math.abs(r.remain)>Math.abs(a.remain)?a=R(this.unit,this.snapshot.areasAfterGutter,i+r.remain,this.snapshot.allAreasSizePixel):r=R(this.unit,this.snapshot.areasBeforeGutter,-(i-a.remain),this.snapshot.allAreasSizePixel)):0!==r.remain?a=R(this.unit,this.snapshot.areasAfterGutter,i+r.remain,this.snapshot.allAreasSizePixel):0!==a.remain&&(r=R(this.unit,this.snapshot.areasBeforeGutter,-(i-a.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var o=[].concat(_toConsumableArray(r.list),_toConsumableArray(a.list)),c=o.find((function(e){return 0!==e.percentAfterAbsorption&&e.percentAfterAbsorption!==e.areaSnapshot.area.minSize&&e.percentAfterAbsorption!==e.areaSnapshot.area.maxSize}));c&&(c.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-o.filter((function(e){return e!==c})).reduce((function(e,t){return e+t.percentAfterAbsorption}),0))}r.list.forEach((function(e){return D(t.unit,e)})),a.list.forEach((function(e){return D(t.unit,e)})),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}}},{key:"stopDragging",value:function(e){var t=this;if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach((function(e){return e.component.unlockEvents()}));this.dragListeners.length>0;){var n=this.dragListeners.pop();n&&n()}this.isDragging=!1,!this.endPoint||this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y||this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.ngZone.runOutsideAngular((function(){setTimeout((function(){t.startPoint=null,t.endPoint=null}))}))}}},{key:"notify",value:function(e,t){var n=this,i=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:t,sizes:i}):"end"===e?this.dragEnd.emit({gutterNum:t,sizes:i}):"click"===e?this.gutterClick.emit({gutterNum:t,sizes:i}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:t,sizes:i}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run((function(){return n.transitionEndSubscriber.next(i)})):"progress"===e&&this.dragProgressSubject.next({gutterNum:t,sizes:i})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"direction",set:function(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)},get:function(){return this._direction}},{key:"unit",set:function(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)},get:function(){return this._unit}},{key:"gutterSize",set:function(e){this._gutterSize=I(e,11),this.build(!1,!1)},get:function(){return this._gutterSize}},{key:"gutterStep",set:function(e){this._gutterStep=I(e,1)},get:function(){return this._gutterStep}},{key:"restrictMove",set:function(e){this._restrictMove=w(e)},get:function(){return this._restrictMove}},{key:"useTransition",set:function(e){this._useTransition=w(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")},get:function(){return this._useTransition}},{key:"disabled",set:function(e){this._disabled=w(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")},get:function(){return this._disabled}},{key:"dir",set:function(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)},get:function(){return this._dir}},{key:"gutterDblClickDuration",set:function(e){this._gutterDblClickDuration=I(e,0)},get:function(){return this._gutterDblClickDuration}},{key:"transitionEnd",get:function(){var e=this;return new S.a((function(t){return e.transitionEndSubscriber=t})).pipe(Object(M.a)(20))}}]),e}()).\u0275fac=function(e){return new(e||G)(o.ac(o.G),o.ac(o.o),o.ac(o.h),o.ac(o.M))},G.\u0275cmp=o.Ub({type:G,selectors:[["as-split"]],viewQuery:function(e,t){var n;1&e&&o.Xc(k,!0),2&e&&o.Fc(n=o.pc())&&(t.gutterEls=n)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick",transitionEnd:"transitionEnd"},exportAs:["asSplit"],ngContentSelectors:A,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","as-split-gutter",3,"flex-basis","order","mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"as-split-gutter",3,"mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(o.xc(),o.wc(0),o.Qc(1,_,1,1,"ng-template",0)),2&e&&(o.Mb(1),o.yc("ngForOf",t.displayedAreas))},directives:[r.s,r.t],styles:['[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}'],changeDetection:0}),G),L=((T=function(){function e(t,n,i,r){_classCallCheck(this,e),this.ngZone=t,this.elRef=n,this.renderer=i,this.split=r,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.split.addArea(this),this.ngZone.runOutsideAngular((function(){e.transitionListener=e.renderer.listen(e.elRef.nativeElement,"transitionend",(function(t){"flex-basis"===t.propertyName&&e.split.notify("transitionEnd",-1)}))}))}},{key:"setStyleOrder",value:function(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}},{key:"setStyleFlex",value:function(e,t,n,i,r){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",n),!0===i?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===r?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"selectstart",(function(e){return!1}))),e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"dragstart",(function(e){return!1})))}))}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var e=this.lockListeners.pop();e&&e()}}},{key:"ngOnDestroy",value:function(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}},{key:"order",set:function(e){this._order=I(e,null),this.split.updateArea(this,!0,!1)},get:function(){return this._order}},{key:"size",set:function(e){this._size=I(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._size}},{key:"minSize",set:function(e){this._minSize=I(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._minSize}},{key:"maxSize",set:function(e){this._maxSize=I(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._maxSize}},{key:"lockSize",set:function(e){this._lockSize=w(e),this.split.updateArea(this,!1,!0)},get:function(){return this._lockSize}},{key:"visible",set:function(e){this._visible=w(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))},get:function(){return this._visible}}]),e}()).\u0275fac=function(e){return new(e||T)(o.ac(o.G),o.ac(o.o),o.ac(o.M),o.ac($))},T.\u0275dir=o.Vb({type:T,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),T),Q=((V=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}},{key:"forChild",value:function(){return{ngModule:e,providers:[]}}}]),e}()).\u0275mod=o.Yb({type:V}),V.\u0275inj=o.Xb({factory:function(e){return new(e||V)},imports:[[r.c]]}),V),U=n("6NWb"),q=n("FwiY"),B=n("C2AL"),H=n("t7qs"),Z=n("ycP/"),X=n("3Pt+"),W=n("1G5W"),Y=n("OzZK"),J=n("RwU8"),K=["*"],ee=((j=function e(){_classCallCheck(this,e),this.ok=new o.q,this.cancel=new o.q}).\u0275fac=function(e){return new(e||j)},j.\u0275cmp=o.Ub({type:j,selectors:[["basic-modal"]],hostAttrs:[1,"flex-grow-column"],inputs:{variable:"variable",form:"form"},outputs:{ok:"ok",cancel:"cancel"},ngContentSelectors:K,decls:17,vars:1,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],["dbPortal","VariableModalHeader-Left"],["left","dbPortal"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],["dbPortal","ModalSubHeader"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],["dbPortal","VariableModalHeader-Right"],[1,"ui","attached","segment","modal-content"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(o.xc(),o.gc(0,"div",0),o.gc(1,"div",1),o.gc(2,"div",2),o.cc(3,3,4),o.fc(),o.gc(5,"div",5),o.cc(6,6),o.fc(),o.fc(),o.bc(7,"div",7),o.gc(8,"div",8),o.cc(9,9),o.fc(),o.fc(),o.gc(10,"div",10),o.wc(11),o.fc(),o.gc(12,"div",11),o.gc(13,"button",12),o.oc("click",(function(){return t.ok.next()})),o.Sc(14,"Save"),o.fc(),o.gc(15,"button",13),o.oc("click",(function(){return t.cancel.next()})),o.Sc(16,"Cancel"),o.fc(),o.fc()),2&e&&(o.Mb(13),o.yc("disabled",!t.form.valid))},directives:[H.d,Y.a,J.a,B.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),j),te=n("ocnv"),ne=n("PTRe"),ie=n("B+r4");function re(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.form.value.Name," ")}}function ae(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.variable.Parent," ")}}function oe(e,t){1&e&&(o.gc(0,"div",8),o.gc(1,"nz-form-item"),o.bc(2,"input",9),o.fc(),o.fc()),2&e&&(o.Mb(2),o.yc("dbAllowedCharacters","[a-zA-Z0-9_]"))}function ce(e,t){if(1&e&&(o.gc(0,"div"),o.Sc(1),o.fc()),2&e){var n=o.rc();o.Mb(1),o.Uc(" ",n.error," ")}}var se,le=((se=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.fb=t,this.context=n,this.destroy$=new y.a,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,X.p.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(W.a)(this.destroy$)).subscribe((function(e){i.context.invoke("changed",null)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||se)(o.ac(X.d),o.ac(C.d))},se.\u0275cmp=o.Ub({type:se,selectors:[["ng-component"]],decls:10,vars:5,consts:[[3,"variable","form","ok","cancel"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["nz-input","","formControlName","Content"],[4,"ngIf"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(o.gc(0,"basic-modal",0),o.oc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),o.gc(1,"form",1),o.Qc(2,re,1,1,"ng-template",2),o.Qc(3,ae,1,1,"ng-template",3),o.Qc(4,oe,3,1,"div",4),o.gc(5,"div",5),o.gc(6,"label"),o.Sc(7,"Value"),o.fc(),o.bc(8,"input",6),o.fc(),o.Qc(9,ce,2,1,"div",7),o.fc(),o.fc()),2&e&&(o.yc("variable",t.variable)("form",t.form),o.Mb(1),o.yc("formGroup",t.form),o.Mb(3),o.yc("ngIf",t.create),o.Mb(5),o.yc("ngIf",t.error))},directives:[ee,X.q,X.m,te.b,X.g,H.e,r.t,ne.b,X.c,X.l,X.f,ie.c,te.c,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),se),ue=n("jfkr"),de=n("zAKX");function fe(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.form.value.Name," ")}}function he(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.variable.Parent," ")}}function pe(e,t){1&e&&(o.gc(0,"div",8),o.gc(1,"div",9),o.Sc(2," Type: "),o.fc(),o.gc(3,"div",10),o.gc(4,"nz-select",11),o.bc(5,"nz-option",12),o.bc(6,"nz-option",13),o.bc(7,"nz-option",14),o.bc(8,"nz-option",15),o.fc(),o.fc(),o.fc())}function ge(e,t){1&e&&(o.gc(0,"div",16),o.gc(1,"nz-form-item"),o.bc(2,"input",17),o.fc(),o.fc()),2&e&&(o.Mb(2),o.yc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var me,be=((me=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.context=n,this.variable=n.data,this.create=!!this.context.metaData.create,this.raw=!!this.context.metaData.raw,this.form=this.fb.group({Name:[null,X.p.required],Content:[],Extension:[],Language:[{value:null,disabled:!(this.create||this.raw)}]}),null==this.variable.Content?this.variable.Content="":"object"==typeof this.variable.Content||this.variable.Content instanceof Array?this.variable.Content=JSON.stringify(this.variable.Content):"string"!=typeof this.variable.Content&&(this.variable.Content="".concat(this.variable.Content)),this.form.patchValue(this.variable),this.form.get("Language").patchValue(this.getLanguage(this.variable.Extension))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}},{key:"getLanguage",value:function(e){return e?e.startsWith(".")?ue.d.GetLanguageFromFileExtension(e)||"plaintext":e.toLowerCase():"plaintext"}}]),e}()).\u0275fac=function(e){return new(e||me)(o.ac(X.d),o.ac(C.d))},me.\u0275cmp=o.Ub({type:me,selectors:[["ng-component"]],decls:8,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["dbPortalTemplate","VariableModalHeader-Right"],["class","required field",4,"ngIf"],[1,"field","flex-grow-column"],["formControlName","Content",3,"language"],[2,"display","flex"],[2,"padding-right","10px","margin","auto"],[2,"width","180px"],["formControlName","Language",2,"width","100%"],["nzLabel","Plaintext","nzValue","plaintext"],["nzLabel","Json","nzValue","json"],["nzLabel","Xml","nzValue","xml"],["nzLabel","Html","nzValue","html"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(o.gc(0,"basic-modal",0),o.oc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),o.gc(1,"form",1),o.Qc(2,fe,1,1,"ng-template",2),o.Qc(3,he,1,1,"ng-template",3),o.Qc(4,pe,9,0,"ng-template",4),o.Qc(5,ge,3,1,"div",5),o.gc(6,"div",6),o.bc(7,"db-editor",7),o.fc(),o.fc(),o.fc()),2&e&&(o.yc("variable",t.variable)("form",t.form),o.Mb(1),o.yc("formGroup",t.form),o.Mb(4),o.yc("ngIf",t.create),o.Mb(2),o.yc("language",t.form.value.Language))},directives:[ee,X.q,X.m,X.g,H.e,r.t,ue.a,X.l,X.f,de.b,de.a,ie.c,te.c,ne.b,X.c,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),me);function ve(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.form.value.Name," ")}}function Ce(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.variable.Parent," ")}}function xe(e,t){1&e&&(o.gc(0,"div",12),o.gc(1,"nz-form-item"),o.bc(2,"input",13),o.fc(),o.fc()),2&e&&(o.Mb(2),o.yc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var ye,Se=((ye=function(){function e(t,n){_classCallCheck(this,e),this.fb=t,this.context=n,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,X.p.required],Content:this.fb.group({UserName:[],Domain:[],Password:[]})}),this.form.patchValue(this.variable||{})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||ye)(o.ac(X.d),o.ac(C.d))},ye.\u0275cmp=o.Ub({type:ye,selectors:[["ng-component"]],decls:21,vars:5,consts:[[3,"variable","form","ok","cancel"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],["formGroupName","Content"],["nzRequired","","nzFor","Username",3,"nzSpan"],["nz-input","","formControlName","UserName","id","Username",2,"width","100%"],["nzSpan","5","nzFor","Domain"],["nz-input","","formControlName","Domain","id","Domain",2,"width","100%"],["nzSpan","5","nzRequired","","nzFor","Password"],["nz-input","","formControlName","Password","id","Password",2,"width","100%"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(o.gc(0,"basic-modal",0),o.oc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),o.gc(1,"form",1),o.Qc(2,ve,1,1,"ng-template",2),o.Qc(3,Ce,1,1,"ng-template",3),o.Qc(4,xe,3,1,"div",4),o.gc(5,"div",5),o.gc(6,"nz-form-item"),o.gc(7,"nz-form-label",6),o.Sc(8,"Username"),o.fc(),o.gc(9,"nz-form-control"),o.bc(10,"input",7),o.fc(),o.fc(),o.gc(11,"nz-form-item"),o.gc(12,"nz-form-label",8),o.Sc(13,"Domain"),o.fc(),o.gc(14,"nz-form-control"),o.bc(15,"input",9),o.fc(),o.fc(),o.gc(16,"nz-form-item"),o.gc(17,"nz-form-label",10),o.Sc(18,"Password"),o.fc(),o.gc(19,"nz-form-control"),o.bc(20,"input",11),o.fc(),o.fc(),o.fc(),o.fc(),o.fc()),2&e&&(o.yc("variable",t.variable)("form",t.form),o.Mb(1),o.yc("formGroup",t.form),o.Mb(3),o.yc("ngIf",t.create),o.Mb(3),o.yc("nzSpan",5))},directives:[ee,X.q,X.m,te.b,X.g,H.e,r.t,X.h,ie.c,te.c,ie.a,te.d,te.a,ne.b,X.c,X.l,X.f,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),ye),Me=n("z4wI");function ke(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.form.value.Name," ")}}function Pe(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.variable.Parent," ")}}function _e(e,t){1&e&&(o.gc(0,"div",7),o.gc(1,"nz-form-item"),o.bc(2,"input",8),o.fc(),o.fc()),2&e&&(o.Mb(2),o.yc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var Ae,ze=((Ae=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.fb=t,this.context=n,this.destroy$=new y.a,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,X.p.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(W.a)(this.destroy$)).subscribe((function(e){i.context.invoke("changed",null)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||Ae)(o.ac(X.d),o.ac(C.d))},Ae.\u0275cmp=o.Ub({type:Ae,selectors:[["ng-component"]],decls:9,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["formControlName","Content",2,"width","100%",3,"nzStep"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(o.gc(0,"basic-modal",0),o.oc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),o.gc(1,"form",1),o.Qc(2,ke,1,1,"ng-template",2),o.Qc(3,Pe,1,1,"ng-template",3),o.Qc(4,_e,3,1,"div",4),o.gc(5,"div",5),o.gc(6,"label"),o.Sc(7,"Value"),o.fc(),o.bc(8,"nz-input-number",6),o.fc(),o.fc(),o.fc()),2&e&&(o.yc("variable",t.variable)("form",t.form),o.Mb(1),o.yc("formGroup",t.form),o.Mb(3),o.yc("ngIf",t.create),o.Mb(4),o.yc("nzStep",1))},directives:[ee,X.q,X.m,X.g,H.e,r.t,Me.a,X.l,X.f,ie.c,te.c,ne.b,X.c,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),Ae),Oe=n("TaO5");function we(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.form.value.Name," ")}}function Ie(e,t){if(1&e&&o.Sc(0),2&e){var n=o.rc();o.Uc(" ",n.variable.Parent," ")}}function Ee(e,t){1&e&&(o.gc(0,"div",7),o.gc(1,"nz-form-item"),o.bc(2,"input",8),o.fc(),o.fc()),2&e&&(o.Mb(2),o.yc("dbAllowedCharacters","[a-zA-Z0-9_]"))}var Fe,Ne,Re=((Ne=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.fb=t,this.context=n,this.destroy$=new y.a,this.variable=n.data,this.create=!!this.context.metaData.create,this.form=this.fb.group({Name:[null,X.p.required],Content:[]}),this.form.patchValue(this.variable||{}),this.form.get("Name").valueChanges.pipe(Object(W.a)(this.destroy$)).subscribe((function(e){i.context.invoke("changed",null)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ok",value:function(){var e=this;this.context.invoke("ok",this.form.value).subscribe((function(){e.context.handle.Close()}))}},{key:"cancel",value:function(){this.context.handle.Close()}}]),e}()).\u0275fac=function(e){return new(e||Ne)(o.ac(X.d),o.ac(C.d))},Ne.\u0275cmp=o.Ub({type:Ne,selectors:[["ng-component"]],decls:8,vars:5,consts:[[3,"variable","form","ok","cancel"],[1,"ui","form",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],["dbPortalTemplate","VariableModalHeader-Left"],["dbPortalTemplate","ModalSubHeader"],["class","required field",4,"ngIf"],[1,"field"],["nz-checkbox","","formControlName","Content"],[1,"required","field"],["nz-input","","formControlName","Name","placeholder","Variable Name",3,"dbAllowedCharacters","dbSetFocus"]],template:function(e,t){1&e&&(o.gc(0,"basic-modal",0),o.oc("ok",(function(){return t.ok()}))("cancel",(function(){return t.cancel()})),o.gc(1,"form",1),o.Qc(2,we,1,1,"ng-template",2),o.Qc(3,Ie,1,1,"ng-template",3),o.Qc(4,Ee,3,1,"div",4),o.gc(5,"div",5),o.gc(6,"label",6),o.Sc(7),o.fc(),o.fc(),o.fc(),o.fc()),2&e&&(o.yc("variable",t.variable)("form",t.form),o.Mb(1),o.yc("formGroup",t.form),o.Mb(3),o.yc("ngIf",t.create),o.Mb(3),o.Uc("Value: ",t.form.value.Content||!1,""))},directives:[ee,X.q,X.m,X.g,H.e,r.t,Oe.a,X.l,X.f,ie.c,te.c,ne.b,X.c,H.a,H.c],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}"]}),Ne),De=((Fe=function(){function e(t,n){_classCallCheck(this,e),this.modal=t,this.componentFactoryResolver=n,this.AvailabeModalTypes=[{type:be,overlayConfig:{width:"80%",height:"90%"}}],this.ExtensionMapping={raw:be,string:le,number:ze,boolean:Re,json:be,credential:Se}}return _createClass(e,[{key:"GetModal",value:function(e){var t=this.ExtensionMapping[e]||this.ExtensionMapping.raw,n=this.AvailabeModalTypes.find((function(e){return e.type===t}))||{type:t,overlayConfig:{width:"50%",maxWidth:"500px"}};return this.modal.FromComponent(n.type).SetModalOptions({componentFactoryResolver:this.componentFactoryResolver,overlayConfig:n.overlayConfig}).CloseOnOutsideClick()}}]),e}()).\u0275fac=function(e){return new(e||Fe)(o.kc(C.b),o.kc(o.k))},Fe.\u0275prov=o.Wb({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe),Ve=n("JIr8"),Te=n("gwh1"),Ge=n("Q8cG"),je=n("gPmL"),$e=["itemsContextMenu"],Le=["viewportContextMenu"];function Qe(e,t){if(1&e&&(o.gc(0,"div",11),o.Sc(1),o.fc()),2&e){var n=o.rc().$implicit;o.Mb(1),o.Uc(" ",n.First.Name," ")}}function Ue(e,t){if(1&e){var n=o.hc();o.gc(0,"li",9),o.oc("click",(function(){o.Ic(n);var e=o.rc().$implicit;return o.rc().OpenEditVariableModal(e.First)})),o.bc(1,"db-icon",12),o.Sc(2," Edit "),o.fc()}}function qe(e,t){if(1&e){var n=o.hc();o.gc(0,"li",9),o.oc("click",(function(){o.Ic(n);var e=o.rc().$implicit;return o.rc().RemoveVariable(e.SelectedData)})),o.bc(1,"db-icon",13),o.Sc(2," Delete "),o.fc()}}function Be(e,t){1&e&&o.bc(0,"li",6)}function He(e,t){if(1&e){var n=o.hc();o.gc(0,"li",9),o.oc("click",(function(){o.Ic(n);var e=o.rc().$implicit;return o.rc().OpenEditVariableModal(e.First,!0)})),o.Sc(1," Edit Raw "),o.fc()}}function Ze(e,t){if(1&e){var n=o.hc();o.gc(0,"ul",3),o.Qc(1,Qe,2,1,"div",4),o.Qc(2,Ue,3,0,"li",5),o.Qc(3,qe,3,0,"li",5),o.bc(4,"li",6),o.gc(5,"li",7),o.gc(6,"ul",8),o.gc(7,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("string")})),o.Sc(8,"String"),o.fc(),o.gc(9,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("number")})),o.Sc(10,"Number"),o.fc(),o.gc(11,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("boolean")})),o.Sc(12,"Boolean"),o.fc(),o.gc(13,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("credential")})),o.Sc(14,"Credential"),o.fc(),o.gc(15,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("raw")})),o.Sc(16,"Raw"),o.fc(),o.fc(),o.fc(),o.Qc(17,Be,1,0,"li",10),o.Qc(18,He,2,0,"li",5),o.fc()}if(2&e){var i=t.$implicit;o.Mb(1),o.yc("ngIf",i.Single),o.Mb(1),o.yc("ngIf",i.Single),o.Mb(1),o.yc("ngIf",i.Any),o.Mb(14),o.yc("ngIf",i.Single&&i.IsShiftPressed),o.Mb(1),o.yc("ngIf",i.Single&&i.IsShiftPressed)}}function Xe(e,t){if(1&e){var n=o.hc();o.gc(0,"ul",3),o.gc(1,"li",7),o.gc(2,"ul",8),o.gc(3,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("string")})),o.Sc(4,"String"),o.fc(),o.gc(5,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("number")})),o.Sc(6,"Number"),o.fc(),o.gc(7,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("boolean")})),o.Sc(8,"Boolean"),o.fc(),o.gc(9,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("credential")})),o.Sc(10,"Credential"),o.fc(),o.gc(11,"li",9),o.oc("click",(function(){return o.Ic(n),o.rc().createVariable("raw")})),o.Sc(12,"Raw"),o.fc(),o.fc(),o.fc(),o.fc()}}var We,Ye=((We=function(){function e(t,n,i,r){var a=this;_classCallCheck(this,e),this.overlay=t,this.viewContainerRef=n,this.variables=i,this.modalService=r,this.grid=(new Z.d).SetColumns((function(e){return e.Default("Name")}),(function(e){return e.Default("Extension").SetHeader("Type").SetValueFormatter((function(e){return e.value})).SetMinWidth(120).SetMaxWidth(120)}),(function(e){return e.Date("CreatedAt",!0).SetMinWidth(140).SetMaxWidth(140)}),(function(e){return e.Date("UpdatedAt",!0).SetMinWidth(140).SetMaxWidth(140)})).SetGridOptions({rowSelection:"multiple",colResizeDefault:"shift"}).OnCellContextMenu((function(e){var t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.api.selectNode(e.node);var n=new Je(e.api,e.event);a.contextMenu=a.overlay.OpenContextMenu(e.event,a.itemsContextMenu,a.viewContainerRef,n)})).OnViewPortContextMenu((function(e,t){a.contextMenu=a.overlay.OpenContextMenu(e,a.viewportContextMenu,a.viewContainerRef,{})})).OnRowDoubleClicked((function(e){a.OpenEditVariableModal(e.data)})).OnGridSizeChange((function(e){return e.api.sizeColumnsToFit()}))}return _createClass(e,[{key:"OpenEditVariableModal",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variables.GetVariable(e.Parent,e.Name).subscribe((function(i){t.modalService.GetModal(n?"raw":i.Extension).SetData(i).SetMetaData({raw:n}).AddEventHandler("ok",(function(r){var a=r.payload.Content;if(n)switch(e.Extension){case"credential":a=JSON.parse(a)}return t.variables.UpdateVariableContent(i.Parent,i.Name,a).pipe(Object(Ve.a)((function(e){throw e})))})).Open()}))}},{key:"createVariable",value:function(e){var t,n=this,i=new b;i.Parent=this.Path,this.modalService.GetModal(e).SetData(i).SetMetaData({create:!0}).OnClose((function(){n.nameAlreadyExistsErrorToast=null})).AddEventHandler("ok",(function(t){var i=t.payload;return i.Parent=n.Path,i.Extension?i.Extension.startsWith(".")||(i.Extension=ue.d.GetDefaultFileExtension(i.Extension)):i.Extension=e,n.variables.CreateVariable(i).pipe(Object(Ve.a)((function(e){throw e})))})).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}},{key:"RemoveVariable",value:function(e){var t=this;e.forEach((function(e){t.variables.RemoveVariable(e.Parent,e.Name).subscribe()})),this.contextMenu.Close()}},{key:"Items",set:function(e){var t;null===(t=this.grid)||void 0===t||t.SetData(e)}}]),e}()).\u0275fac=function(e){return new(e||We)(o.ac(C.c),o.ac(o.Y),o.ac(v),o.ac(De))},We.\u0275cmp=o.Ub({type:We,selectors:[["variables-folder-content"]],viewQuery:function(e,t){var n;1&e&&(o.Xc($e,!0),o.Xc(Le,!0)),2&e&&(o.Fc(n=o.pc())&&(t.itemsContextMenu=n.first),o.Fc(n=o.pc())&&(t.viewportContextMenu=n.first))},hostAttrs:[1,""],inputs:{Items:"Items",Path:"Path"},features:[o.Lb([De])],decls:5,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["viewportContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["class","context-menu-header",4,"ngIf"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-divider",""],["nz-submenu","","nzTitle","New Variable","nzIcon","field-binary"],[1,"context-menu"],["nz-menu-item","",3,"click"],["nz-menu-divider","",4,"ngIf"],[1,"context-menu-header"],["icon","edit"],["icon","delete"]],template:function(e,t){1&e&&(o.bc(0,"ag-grid-angular",0),o.Qc(1,Ze,19,5,"ng-template",null,1,o.Rc),o.Qc(3,Xe,13,0,"ng-template",null,2,o.Rc)),2&e&&o.yc("dbGrid",t.grid)},directives:[Te.a,Z.b,Ge.c,r.t,Ge.d,B.a,Ge.g,Ge.e,je.c],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]}),We),Je=function(){function e(t,n){_classCallCheck(this,e),this.mEvent=n,this.SelectedData=t.getSelectedNodes().map((function(e){return e.data}))}return _createClass(e,[{key:"SelectedCount",get:function(){return this.SelectedData.length}},{key:"Any",get:function(){return this.SelectedCount>0}},{key:"Single",get:function(){return 1===this.SelectedCount}},{key:"First",get:function(){return this.SelectedCount>0?this.SelectedData[0]:null}},{key:"IsShiftPressed",get:function(){return this.mEvent.shiftKey}}]),e}(),Ke=["tree"],et=["folderContextMenu"],tt=function(){return["fas","angle-right"]};function nt(e,t){1&e&&o.bc(0,"fa-icon",21),2&e&&o.yc("icon",o.Ac(1,tt))}var it=function(){return["fas","angle-down"]};function rt(e,t){1&e&&o.bc(0,"fa-icon",21),2&e&&o.yc("icon",o.Ac(1,it))}function at(e,t){if(1&e){var n=o.hc();o.gc(0,"div",19),o.oc("click",(function(e){o.Ic(n);var t=o.rc().$implicit;return o.rc().clickFolderExpander(t,e)})),o.Qc(1,nt,1,2,"fa-icon",20),o.Qc(2,rt,1,2,"fa-icon",20),o.fc()}if(2&e){var i=o.rc().$implicit;o.Mb(1),o.yc("ngIf",!i.isExpanded),o.Mb(1),o.yc("ngIf",i.isExpanded)}}function ot(e,t){1&e&&o.bc(0,"div",22)}function ct(e,t){if(1&e){var n=o.hc();o.gc(0,"div",23),o.gc(1,"input",24,25),o.oc("keydown.enter",(function(e){o.Ic(n);var t=o.Gc(2),i=o.rc().$implicit;return o.rc().saveName(i,t,e)}))("keydown.escape",(function(e){o.Ic(n);var t=o.rc().$implicit;return o.rc().cancelCreateOrRenameFolder(t,e)}))("focus",(function(e){o.Ic(n);var t=o.rc().$implicit;return o.rc().SelectIfCreateFolder(t,e)})),o.fc(),o.fc()}if(2&e){var i=o.rc().$implicit;o.Mb(1),o.yc("value",i.data.Name)("dbAllowedCharacters","[a-zA-Z0-9_]")}}function st(e,t){if(1&e&&(o.bc(0,"tree-node-content",26),o.sc(1,"async")),2&e){var n,i=o.rc(),r=i.$implicit,a=i.index,c=o.rc(),s=(null==(n=o.tc(1,4,c.variablesService.SelectedFolder$))?null:n.Path)==r.data.Path;o.Sb("selected",s),o.yc("node",r)("index",a)}}function lt(e,t){if(1&e){var n=o.hc();o.gc(0,"div",12),o.oc("click",(function(e){return o.Ic(n),t.$implicit.mouseAction("click",e)}))("contextmenu",(function(e){return o.Ic(n),t.$implicit.mouseAction("contextMenu",e)})),o.sc(1,"async"),o.gc(2,"div",13),o.Qc(3,at,3,2,"div",14),o.Qc(4,ot,1,0,"div",15),o.gc(5,"div",16),o.oc("dblclick",(function(e){return o.Ic(n),t.$implicit.mouseAction("dblClick",e)}))("contextmenu",(function(e){return o.Ic(n),t.$implicit.mouseAction("contextMenu",e)}))("treeDrop",(function(e){return o.Ic(n),t.$implicit.onDrop(e)})),o.Qc(6,ct,3,2,"div",17),o.Qc(7,st,2,6,"tree-node-content",18),o.fc(),o.fc(),o.fc()}if(2&e){var i,r=t.$implicit,a=o.rc(),c=(null==(i=o.tc(1,15,a.variablesService.SelectedFolder$))?null:i.Path)==r.data.Path;o.Pc("padding-left",r.getNodePadding()),o.Sb("selected",c),o.Mb(3),o.yc("ngIf",r.hasChildren),o.Mb(1),o.yc("ngIf",!r.hasChildren),o.Mb(1),o.Sb("node-content-wrapper-active",r.isActive)("node-content-wrapper-focused",r.isFocused),o.yc("treeAllowDrop",r.allowDrop)("treeDrag",r)("treeDragEnabled",r.allowDrag()),o.Mb(1),o.yc("ngIf",r.data.edit),o.Mb(1),o.yc("ngIf",!r.data.edit)}}function ut(e,t){if(1&e&&(o.bc(0,"variables-folder-content",27),o.sc(1,"async")),2&e){var n=t.$implicit,i=o.rc();o.yc("Items",o.tc(1,2,i.ItemsInPath$))("Path",n)}}function dt(e,t){1&e&&(o.gc(0,"div",28),o.Sc(1," No Variables found in folder... "),o.fc())}function ft(e,t){if(1&e){var n=o.hc();o.gc(0,"li",31),o.oc("click",(function(){o.Ic(n);var e=o.rc().$implicit;return o.rc().RenameFolder(e.Node)})),o.bc(1,"db-icon",34),o.Sc(2," Rename Folder "),o.fc()}}function ht(e,t){if(1&e){var n=o.hc();o.gc(0,"li",31),o.oc("click",(function(){o.Ic(n);var e=o.rc().$implicit;return o.rc().DeleteDirectory(e.Folder)})),o.bc(1,"db-icon",35),o.Sc(2," Delete Folder "),o.fc()}}function pt(e,t){if(1&e){var n=o.hc();o.gc(0,"ul",29),o.gc(1,"div",30),o.Sc(2),o.fc(),o.gc(3,"li",31),o.oc("click",(function(){o.Ic(n);var e=t.$implicit;return o.rc().CreateSubFolder(e.Node)})),o.bc(4,"db-icon",32),o.ec(5),o.Sc(6,"New Folder"),o.dc(),o.fc(),o.Qc(7,ft,3,0,"li",33),o.Qc(8,ht,3,0,"li",33),o.fc()}if(2&e){var i=t.$implicit;o.Mb(2),o.Uc(" ",(null==i.Folder?null:i.Folder.Name)||"/"," "),o.Mb(5),o.yc("ngIf",i.Folder),o.Mb(1),o.yc("ngIf",i.Folder)}}var gt,mt,bt,vt,Ct,xt=function(){return[]},yt=((gt=function(){function e(t,n,i,r,a,o){var c=this;_classCallCheck(this,e),this.ui=t,this.viewContainerRef=n,this.variablesService=i,this.cref=r,this.overlay=a,this.nzContextMenuService=o,this.nodes$=this.variablesService.rootNode$.pipe(Object(s.a)((function(e){return e.Children}))),this.ItemsInPath$=this.variablesService.SelectedFolderItems$,this.SelectedFolderPath$=this.variablesService.SelectedFolder$.pipe(Object(l.a)((function(e){return!!e})),Object(s.a)((function(e){return e.Path}))),this.actionMapping={mouse:{click:function(e,t,n){c.variablesService.SetSelectedFolder(t.data),c.variablesService.GetVariablesInSelectedFolder().subscribe()},dblClick:function(e,t,n){u.a.TOGGLE_EXPANDED(e,t,n)},contextMenu:function(e,t,n){n.preventDefault(),n.stopPropagation(),c.variablesService.SetSelectedFolder(t.data),c.openFolderContextMenu(n,t)}}},this.options={idField:"Path",displayField:"Name",childrenField:"Children",actionMapping:this.actionMapping,levelPadding:10}}return _createClass(e,[{key:"NormalizeTreeNode",value:function(e){var t=this,n=Object.assign(Object.assign({},e),{key:e.Path,title:e.Name,children:null});return e.Children?n.children=e.Children.map((function(e){return t.NormalizeTreeNode(e)})):n.isLeaf=!0,n}},{key:"clickTreeNode",value:function(e){console.log(e),this.variablesService.SetSelectedFolder(e.node.origin),this.variablesService.GetVariablesInSelectedFolder().subscribe()}},{key:"openFolderContextMenu",value:function(e,t){var n;null===(n=this.FolderContextMenu)||void 0===n||n.Close(),this.FolderContextMenu=this.overlay.OpenContextMenu(e,this.folderContextMenu,this.viewContainerRef,this.BuildContext(t))}},{key:"BuildContext",value:function(e){return{Node:e,Folder:null==e?void 0:e.data}}},{key:"clickFolderExpander",value:function(e,t){t.stopPropagation(),t.preventDefault(),this.CloseContextMenu(),e.toggleExpanded()}},{key:"CloseContextMenu",value:function(){var e;null===(e=this.FolderContextMenu)||void 0===e||e.Close()}},{key:"CreateSubFolder",value:function(e){var t=new d;t.Name="NewFolder",t.edit="create",e?(e.data.Children||(e.children=[],e.data.Children=[]),e.data.Children=[t].concat(_toConsumableArray(e.data.Children))):this.tree.treeModel.nodes=[t].concat(_toConsumableArray(this.tree.treeModel.nodes)),this.tree.treeModel.update(),this.CloseContextMenu(),this.cref.detectChanges(),e&&this.tree.treeModel.getNodeById(e.id).expand()}},{key:"saveName",value:function(e,t,n){var i,r;if(t.value){switch(e.data.edit){case"create":e.data.Name=t.value,this.variablesService.NewFolder("".concat((null===(i=e.realParent)||void 0===i?void 0:i.data.Parent)||"","/").concat((null===(r=e.realParent)||void 0===r?void 0:r.data.Name)||""),e.data.Name).subscribe();break;case"rename":console.log(e.data.Parent,e.data.Name,t.value),this.variablesService.RenameFolder(e.data.Parent,e.data.Name,t.value).subscribe(),e.data.Name=t.value,e.data.edit=null}e.data.edit=null,this.cref.detectChanges()}}},{key:"cancelCreateOrRenameFolder",value:function(e,t){switch(e.data.edit){case"create":e.realParent?e.realParent.data.Children=e.realParent.data.Children.filter((function(t){return t.Path!=e.data.Path})):this.tree.treeModel.nodes=this.tree.treeModel.nodes.filter((function(t){return t.Path!=e.data.Path})),this.tree.treeModel.update()}e.data.edit=null,this.cref.detectChanges()}},{key:"RenameFolder",value:function(e){e.data.edit="rename",this.CloseContextMenu(),this.cref.detectChanges()}},{key:"DeleteDirectory",value:function(e){this.variablesService.RemoveFolder(e.Parent,e.Name).subscribe(),this.CloseContextMenu()}},{key:"SelectIfCreateFolder",value:function(e,t){"create"===e.data.edit&&t.target.select(),e.parent.expand()}},{key:"contextMenu",value:function(e,t){this.nzContextMenuService.create(e,t)}},{key:"closeMenu",value:function(){this.nzContextMenuService.close()}},{key:"nzEvent",value:function(e){console.log(e)}},{key:"FolderTreeState",get:function(){return this.variablesService.FolderTreeState},set:function(e){this.variablesService.FolderTreeState=e}}]),e}()).\u0275fac=function(e){return new(e||gt)(o.ac(c.a),o.ac(o.Y),o.ac(v),o.ac(o.h),o.ac(C.c),o.ac(x.a))},gt.\u0275cmp=o.Ub({type:gt,selectors:[["global-variables-explorer"]],viewQuery:function(e,t){var n;1&e&&(o.Xc(Ke,!0),o.Xc(et,!0)),2&e&&(o.Fc(n=o.pc())&&(t.tree=n.first),o.Fc(n=o.pc())&&(t.folderContextMenu=n.first))},decls:19,vars:12,consts:[[2,"flex-grow","1"],["direction","horizontal","unit","pixel","gutterSize","5"],["minSize","200","size","200",2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden","background-color","#d6d6d6"],[2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden"],[2,"flex-grow","1","overflow","hidden",3,"state","nodes","options","stateChange","contextmenu"],["tree",""],["treeNodeWrapperTemplate",""],["size","*",2,"display","flex","flex-direction","column","flex-grow","1","overflow","hidden","padding","4px 4px 4px 0px"],[2,"background-color","#292f3b","color","white","font-weight","bold","font-size","1.2rem","line-height","2rem","padding-left","14px"],[3,"Items","Path",4,"ngIf"],["empty",""],["folderContextMenu",""],["xaStopClickPropagation","",1,"node-wrapper",3,"click","contextmenu"],[2,"display","flex","flex-direction","row","padding-left","5px"],["class","expander-area","style","width: 20px; padding-left: 6px;",3,"click",4,"ngIf"],["style","width: 20px; padding-left: 6px;",4,"ngIf"],[1,"node-content-wrapper",3,"treeAllowDrop","treeDrag","treeDragEnabled","dblclick","contextmenu","treeDrop"],["class","ui input",4,"ngIf"],[3,"selected","node","index",4,"ngIf"],[1,"expander-area",2,"width","20px","padding-left","6px",3,"click"],["nz-icon","","style","margin-top:6px; width: 8px;",3,"icon",4,"ngIf"],["nz-icon","",2,"margin-top","6px","width","8px",3,"icon"],[2,"width","20px","padding-left","6px"],[1,"ui","input"],[2,"width","95%","padding","2px 5px",3,"value","dbSetFocus","dbAllowedCharacters","keydown.enter","keydown.escape","focus"],["nameinput",""],[3,"node","index"],[3,"Items","Path"],[1,"ui","header",2,"margin","auto","margin-top","10%","color","#969696"],["nz-menu","","nzMode","vertical",1,"context-menu"],[1,"context-menu-header"],["nz-menu-item","",3,"click"],["icon","folder"],["nz-menu-item","",3,"click",4,"ngIf"],["icon","edit"],["icon","delete"]],template:function(e,t){1&e&&(o.gc(0,"div",0),o.gc(1,"as-split",1),o.gc(2,"as-split-area",2),o.gc(3,"div",3),o.gc(4,"tree-root",4,5),o.oc("stateChange",(function(e){return t.FolderTreeState=e}))("contextmenu",(function(e){return t.openFolderContextMenu(e)})),o.sc(6,"async"),o.Qc(7,lt,8,17,"ng-template",null,6,o.Rc),o.fc(),o.fc(),o.fc(),o.gc(9,"as-split-area",7),o.gc(10,"div",8),o.Sc(11),o.sc(12,"async"),o.fc(),o.Qc(13,ut,2,4,"variables-folder-content",9),o.sc(14,"async"),o.fc(),o.fc(),o.fc(),o.Qc(15,dt,2,0,"ng-template",null,10,o.Rc),o.Qc(17,pt,9,3,"ng-template",null,11,o.Rc)),2&e&&(o.Mb(4),o.yc("state",t.FolderTreeState)("nodes",o.tc(6,5,t.nodes$)||o.Ac(11,xt))("options",t.options),o.Mb(7),o.Uc(" ",o.tc(12,7,t.SelectedFolderPath$),""),o.Mb(2),o.yc("ngIf",o.tc(14,9,t.SelectedFolderPath$)))},directives:[$,L,u.b,r.t,u.c,u.d,U.b,q.b,B.a,H.a,H.c,u.f,Ye,Ge.c,Ge.e,je.c],pipes:[r.b],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;overflow:hidden}.node-content-wrapper[_ngcontent-%COMP%]{padding-left:0}.node-content-wrapper-active[_ngcontent-%COMP%], .node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper[_ngcontent-%COMP%]:hover{box-shadow:none}.node-content-wrapper[_ngcontent-%COMP%]:hover{background:none}tree-node-content.selected[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 1px #fff}.node-wrapper[_ngcontent-%COMP%]{padding:.3em}.node-wrapper[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.node-wrapper.selected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.node-wrapper.selected[_ngcontent-%COMP%]:hover{background-color:rgba(82,94,118,.83);color:#fff}.expander-area[_ngcontent-%COMP%]:hover   .ng-fa-icon[_ngcontent-%COMP%]{-webkit-filter:drop-shadow(0 0 2px #525e76);filter:drop-shadow(0 0 2px #525e76)}.node-wrapper.selected[_ngcontent-%COMP%]   .expander-area[_ngcontent-%COMP%]:hover   .ng-fa-icon[_ngcontent-%COMP%]{-webkit-filter:drop-shadow(0 0 2px #fff);filter:drop-shadow(0 0 2px white)}.folder-context[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}"],changeDetection:0}),gt),St=[{path:"",component:(mt=function e(t){_classCallCheck(this,e),this.uiService=t,t.Set((function(e){e.Header.Title="Global Variables",e.Content.Scrollable=!1,e.Content.Container=!1,e.Header.Icon="folder"}))},mt.\u0275fac=function(e){return new(e||mt)(o.ac(c.a))},mt.\u0275cmp=o.Ub({type:mt,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&o.bc(0,"global-variables-explorer")},directives:[yt],styles:[""]}),mt)}],Mt=((bt=function e(){_classCallCheck(this,e)}).\u0275mod=o.Yb({type:bt}),bt.\u0275inj=o.Xb({factory:function(e){return new(e||bt)},imports:[[a.l.forChild(St)],a.l]}),bt),kt=n("Hhmg"),Pt=((vt=function e(){_classCallCheck(this,e)}).\u0275mod=o.Yb({type:vt}),vt.\u0275inj=o.Xb({factory:function(e){return new(e||vt)},imports:[[r.c,X.o,C.a,ue.c,H.b,te.e,ne.e,Y.c,Me.b,Oe.b,de.c]]}),vt),_t=n("DTEk"),At=((Ct=function e(){_classCallCheck(this,e)}).\u0275mod=o.Yb({type:Ct}),Ct.\u0275inj=o.Xb({factory:function(e){return new(e||Ct)},imports:[[r.c,X.o,Mt,u.e,Q,H.b,C.a,Z.c,kt.a,U.d,Pt,_t.a]]}),Ct)}}]);