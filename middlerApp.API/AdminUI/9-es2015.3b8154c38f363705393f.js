(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{QsR5:function(e,t,n){"use strict";n.r(t),n.d(t,"IDPModule",(function(){return xn}));var i=n("ofXK"),c=n("3Pt+"),o=n("tyNb"),r=n("ycP/"),s=n("fXoL"),l=n("ZF+8"),a=n("vkgz"),d=n("mrSG"),u=n("4ZtF");let f=(()=>{let e=class extends u.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(d.a)([Object(u.e)({name:"identity-roles",idKey:"Id"})],e),e})(),h=(()=>{class e extends u.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(s.kc(f))},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{let e=class extends u.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(d.a)([Object(u.e)({name:"identity-users",idKey:"Id"})],e),e})(),p=(()=>{class e extends u.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(s.kc(g))},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),m=(()=>{let e=class extends u.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(d.a)([Object(u.e)({name:"identity-clients",idKey:"Id"})],e),e})(),b=(()=>{class e extends u.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(s.kc(m))},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),C=(()=>{let e=class extends u.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(d.a)([Object(u.e)({name:"identity-api-resources",idKey:"Id"})],e),e})(),S=(()=>{class e extends u.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(s.kc(C))},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v=(()=>{let e=class extends u.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(d.a)([Object(u.e)({name:"identity-resources",idKey:"Id"})],e),e})(),y=(()=>{class e extends u.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(s.kc(v))},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var z=n("tk/3");let x=(()=>{class e{constructor(e,t,n,i,c,o,r,s,l,a,d,u){this.identityRolesStore=e,this.identityRolesQuery=t,this.identityUsersStore=n,this.identityUsersQuery=i,this.identityClientsStore=c,this.identityClientsQuery=o,this.identityApiResourcesStore=r,this.identityApiResourcesQuery=s,this.identityResourcesStore=l,this.identityResourcesQuery=a,this.http=d,this.message=u,this.message.RunOnEveryReconnect(()=>{this.SubscribeUserEvents(),this.SubscribeRoleEvents(),this.SubscribeClientsEvents(),this.SubscribeApiResourcesEvents(),this.SubscribeIdentityResourcesEvents()})}SubscribeUserEvents(){this.message.Stream("IDPUsers.Subscribe").pipe(Object(a.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityUsersStore.add(e.Payload);break;case"Updated":this.identityUsersStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityUsersStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadUsers(){this.http.get("api/idp/users").pipe(Object(a.a)(e=>this.identityUsersStore.set(e))).subscribe()}GetAllUsers(e){return!e&&this.identityUsersQuery.getHasCache()||this.ReLoadUsers(),this.identityUsersQuery.selectAll()}GetUser(e){return this.http.get(`api/idp/users/${e}`)}CreateUser(e){return this.http.post("api/idp/users",e)}UpdateUser(e){return this.http.put("api/idp/users",e)}DeleteUser(...e){return this.http.request("delete","api/idp/users",{body:e})}SubscribeRoleEvents(){this.message.Stream("IDPRoles.Subscribe").pipe(Object(a.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityRolesStore.add(e.Payload);break;case"Updated":this.identityRolesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityRolesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadRoles(){this.message.Invoke("IDPRoles.GetRolesList").pipe(Object(a.a)(e=>this.identityRolesStore.set(e))).subscribe()}GetAllRoles(e){return!e&&this.identityRolesQuery.getHasCache()||this.ReLoadRoles(),this.identityRolesQuery.selectAll()}GetRole(e){return this.http.get(`api/idp/roles/${e}`)}CreateRole(e){return this.http.post("api/idp/roles",e)}UpdateRole(e){return this.http.put("api/idp/roles",e)}DeleteRole(...e){return this.http.request("delete","api/idp/roles",{body:e})}SubscribeClientsEvents(){this.message.Stream("IDPClients.Subscribe").pipe(Object(a.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityClientsStore.add(e.Payload);break;case"Updated":this.identityClientsStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityClientsStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadClients(){this.http.get("api/idp/clients").pipe(Object(a.a)(e=>this.identityClientsStore.set(e))).subscribe()}GetAllClients(e){return!e&&this.identityClientsQuery.getHasCache()||this.ReLoadClients(),this.identityClientsQuery.selectAll()}GetClient(e){return this.http.get(`api/idp/clients/${e}`)}CreateClient(e){return this.http.post("api/idp/clients",e)}UpdateClient(e){return this.http.put("api/idp/clients",e)}DeleteClient(...e){return this.http.request("delete","api/idp/clients",{body:e})}SubscribeApiResourcesEvents(){this.message.Stream("IDPApiResources.Subscribe").pipe(Object(a.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityApiResourcesStore.add(e.Payload);break;case"Updated":this.identityApiResourcesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityApiResourcesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadApiResources(){this.http.get("api/idp/api-resources").pipe(Object(a.a)(e=>this.identityApiResourcesStore.set(e))).subscribe()}GetAllApiResources(e){return!e&&this.identityApiResourcesQuery.getHasCache()||this.ReLoadApiResources(),this.identityApiResourcesQuery.selectAll()}GetApiResource(e){return this.http.get(`api/idp/api-resources/${e}`)}CreateApiResource(e){return this.http.post("api/idp/api-resources",e)}UpdateApiResource(e){return this.http.put("api/idp/api-resources",e)}DeleteApiResource(...e){return this.http.request("delete","api/idp/api-resources",{body:e})}SubscribeIdentityResourcesEvents(){this.message.Stream("IDPIdentityResources.Subscribe").pipe(Object(a.a)(e=>{switch(console.log(e),e.Action){case"Created":this.identityResourcesStore.add(e.Payload);break;case"Updated":this.identityResourcesStore.update(e.Payload.Id,t=>e.Payload);break;case"Deleted":this.identityResourcesStore.update(e.Payload,e=>Object.assign(Object.assign({},e),{Deleted:!0}))}})).subscribe()}ReLoadIdentityResources(){this.http.get("api/idp/identity-resources").pipe(Object(a.a)(e=>this.identityResourcesStore.set(e))).subscribe()}GetAllIdentityResources(e){return!e&&this.identityResourcesQuery.getHasCache()||this.ReLoadIdentityResources(),this.identityResourcesQuery.selectAll()}GetIdentityResource(e){return this.http.get(`api/idp/identity-resources/${e}`)}CreateIdentityResource(e){return this.http.post("api/idp/identity-resources",e)}UpdateIdentityResource(e){return this.http.put("api/idp/identity-resources",e)}DeleteIdentityResource(...e){return this.http.request("delete","api/idp/identity-resources",{body:e})}}return e.\u0275fac=function(t){return new(t||e)(s.kc(f),s.kc(h),s.kc(g),s.kc(p),s.kc(m),s.kc(b),s.kc(C),s.kc(S),s.kc(v),s.kc(y),s.kc(z.b),s.kc(l.b))},e.\u0275prov=s.Wb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=n("h0m+"),w=n("gwh1"),R=n("t7qs"),O=n("Q8cG"),k=n("C2AL"),I=n("FwiY"),T=n("OzZK"),D=n("RwU8");const P=["itemsContextMenu"];function A(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().EditUser(t.First)})),s.bc(1,"i",7),s.Sc(2," Edit User "),s.fc()}}function _(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveUser(t.SelectedData)})),s.bc(1,"i",8),s.Sc(2," Delete User "),s.fc()}}function N(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddUser()})),s.bc(2,"i",5),s.Sc(3," Add User "),s.fc(),s.Qc(4,A,3,0,"li",6),s.Qc(5,_,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(4),s.yc("ngIf",e.Single),s.Mb(1),s.yc("ngIf",e.Any)}}function U(e,t){if(1&e){const e=s.hc();s.gc(0,"button",9),s.oc("click",(function(){return s.Ic(e),s.rc().ReloadUsersList()})),s.bc(1,"i",10),s.Sc(2,"Reload Users"),s.fc()}}let F=(()=>{class e{constructor(e,t,n,i,c,o){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=c,this.viewContainerRef=o,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0}),e=>e.Default("UserName").SetInitialWidth(200,!0),e=>e.Default("FirstName").SetInitialWidth(200,!0),e=>e.Default("LastName").SetInitialWidth(200,!0),e=>e.Default("Email")).SetData(this.idService.GetAllUsers()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditUser(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Users",e.Content.Scrollable=!1,e.Header.Icon="fa#user"})}AddUser(){this.router.navigate(["create"],{relativeTo:this.route})}EditUser(e){this.router.navigate([e.Id],{relativeTo:this.route})}RemoveUser(e){this.idService.DeleteUser(...e.map(e=>e.Id)).subscribe()}ReloadUsersList(){this.idService.ReLoadUsers()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(x),s.ac(o.i),s.ac(o.a),s.ac(M.c),s.ac(s.Y))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&s.Xc(P,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,N,6,2,"ng-template",null,1,s.Rc),s.Qc(3,U,3,0,"ng-template",2)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,R.e,O.c,k.a,O.e,I.b,i.t,T.a,D.a],styles:["[_nghost-%COMP%]{padding:10px 0}"],changeDetection:0}),e})();const G=["itemsContextMenu"];function E(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().EditRole(t.First)})),s.bc(1,"i",7),s.Sc(2," Edit Role "),s.fc()}}function L(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveRole(t.SelectedData)})),s.bc(1,"i",8),s.Sc(2," Delete Role "),s.fc()}}function Q(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddRole()})),s.bc(2,"i",5),s.Sc(3," Add Role "),s.fc(),s.Qc(4,E,3,0,"li",6),s.Qc(5,L,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(4),s.yc("ngIf",e.Single),s.Mb(1),s.yc("ngIf",e.Any)}}function j(e,t){if(1&e){const e=s.hc();s.gc(0,"button",9),s.oc("click",(function(){return s.Ic(e),s.rc().ReloadRolesList()})),s.bc(1,"i",10),s.Sc(2,"Reload Roles"),s.fc()}}let B=(()=>{class e{constructor(e,t,n,i,c,o,s){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=c,this.viewContainerRef=o,this.identityRolesQuery=s,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0,e.headerCheckboxSelectionFilteredOnly=!0}),e=>e.Default("Name"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllRoles()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditRole(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Roles",e.Content.Scrollable=!1,e.Header.Icon="fa#user-tag"})}AddRole(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditRole(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveRole(e){var t;this.idService.DeleteRole(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadRolesList(){this.idService.ReLoadRoles()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(x),s.ac(o.i),s.ac(o.a),s.ac(M.c),s.ac(s.Y),s.ac(h))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&s.Xc(G,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,Q,6,2,"ng-template",null,1,s.Rc),s.Qc(3,j,3,0,"ng-template",2)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,R.e,O.c,k.a,O.e,I.b,i.t,T.a,D.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})();const $=["itemsContextMenu"];function H(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().EditClient(t.First)})),s.bc(1,"i",7),s.Sc(2," Edit Client "),s.fc()}}function W(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveClient(t.SelectedData)})),s.bc(1,"i",8),s.Sc(2," Delete Client "),s.fc()}}function V(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddClient()})),s.bc(2,"i",5),s.Sc(3," Add Client "),s.fc(),s.Qc(4,H,3,0,"li",6),s.Qc(5,W,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(4),s.yc("ngIf",e.Single),s.Mb(1),s.yc("ngIf",e.Any)}}function q(e,t){if(1&e){const e=s.hc();s.gc(0,"button",9),s.oc("click",(function(){return s.Ic(e),s.rc().ReloadClientsList()})),s.bc(1,"i",10),s.Sc(2,"Reload Clients"),s.fc()}}let X=(()=>{class e{constructor(e,t,n,i,c,o){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=c,this.viewContainerRef=o,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0}),e=>e.Default("ClientId"),e=>e.Default("ClientName")).SetData(this.idService.GetAllClients()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditClient(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}),e.Set(e=>{e.Header.Title="IDP / Clients",e.Content.Scrollable=!1,e.Header.Icon="fa#desktop"})}AddClient(){this.router.navigate(["create"],{relativeTo:this.route})}EditClient(e){this.router.navigate([e.Id],{relativeTo:this.route})}RemoveClient(e){}ReloadClientsList(){this.idService.ReLoadClients()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(x),s.ac(o.i),s.ac(o.a),s.ac(M.c),s.ac(s.Y))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&s.Xc($,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,V,6,2,"ng-template",null,1,s.Rc),s.Qc(3,q,3,0,"ng-template",2)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,R.e,O.c,k.a,O.e,I.b,i.t,T.a,D.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})();var J=n("itXk"),Y=n("lJxs"),K=n("bHdf"),Z=n("ocnv"),ee=n("oyxB"),te=n("B+r4"),ne=n("PTRe"),ie=n("TaO5"),ce=n("IvDN"),oe=n("0lU3"),re=n("gPmL");function se(e,t){var n,i,c,o;return(null===(n=e.Name)||void 0===n?void 0:n.toLowerCase())<(null===(i=t.Name)||void 0===i?void 0:i.toLowerCase())?-1:(null===(c=e.Name)||void 0===c?void 0:c.toLowerCase())>(null===(o=t.Name)||void 0===o?void 0:o.toLowerCase())?1:0}var le=n("2Vo4"),ae=n("F6ss"),de=n("5+WD"),ue=n("VRyK"),fe=n("LRne"),he=n("6NWb");function ge(e,t){if(1&e){const e=s.hc();s.gc(0,"i",16),s.oc("click",(function(){return s.Ic(e),s.rc(2).form.get("Filter").patchValue("")})),s.fc()}}function pe(e,t){if(1&e&&(s.Qc(0,ge,1,0,"i",15),s.sc(1,"async")),2&e){const e=s.rc();s.yc("ngIf",s.tc(1,1,e.form.get("Filter").valueChanges))}}const me=function(){return["fas","chevron-left"]},be=function(){return["fas","chevron-right"]};function Ce(e,t){if(1&e){const e=s.hc();s.gc(0,"div",17),s.gc(1,"div",18),s.gc(2,"div",19),s.bc(3,"fa-icon",20),s.fc(),s.gc(4,"div",21),s.oc("click",(function(){s.Ic(e);const n=t.$implicit;return s.rc().ToggleRole(n)})),s.gc(5,"div",22),s.Sc(6),s.fc(),s.gc(7,"div"),s.Sc(8),s.fc(),s.fc(),s.gc(9,"div",19),s.bc(10,"fa-icon",20),s.fc(),s.fc(),s.fc()}if(2&e){const e=t.$implicit;s.Sb("deleted",e.Deleted),s.Mb(2),s.Sb("shrinked",e.Selected),s.Mb(1),s.yc("icon",s.Ac(12,me)),s.Mb(1),s.Sb("isSelected",e.Selected),s.Mb(2),s.Tc(e.Name),s.Mb(2),s.Tc(e.DisplayName),s.Mb(1),s.Sb("shrinked",!e.Selected),s.Mb(1),s.yc("icon",s.Ac(13,be))}}const Se=function(){return["fas","angle-double-right"]};let ve=(()=>{class e{constructor(e,t,n){this.identityRolesQuery=e,this.identityService=t,this.fb=n,this.selectedRolesSubject$=new le.a([]),this.selectedRolesChanged=new s.q,this.closeSidebar=new s.q,this.form=this.fb.group({Filter:[null]}),this.filter$=Object(ue.a)(Object(fe.a)(null),this.form.get("Filter").valueChanges),this.availableRoles$=Object(J.a)(this.identityService.GetAllRoles(),this.selectedRolesSubject$,this.filter$).pipe(Object(Y.a)(([e,t,n])=>{const i=e.filter(e=>e.Deleted).map(e=>e.Id),c=t.filter(e=>i.includes(e.Id));if(c&&c.length>0){const e=t.map(e=>Object.assign(Object.assign({},e),{Deleted:c.includes(e)}));this.selectedRolesChanged.next(e)}let o=e;if(n){const e=new RegExp(`${n}`,"i");o=o.filter(t=>t.Name.match(e)||t.DisplayName.match(e))}return o.sort(se).map(e=>Object.assign(Object.assign({},e),{Selected:t.map(e=>e.Id).includes(e.Id)}))}))}set selectedRoles(e){this.selectedRolesSubject$.next(e)}ngOnInit(){}ToggleRole(e){let t=[];t=e.Selected?this.selectedRolesSubject$.getValue().filter(t=>t.Id!=e.Id):[...this.selectedRolesSubject$.getValue(),e],this.selectedRolesChanged.next(t)}Close(){this.closeSidebar.next()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(h),s.ac(x),s.ac(c.d))},e.\u0275cmp=s.Ub({type:e,selectors:[["add-roles-list"]],inputs:{selectedRoles:"selectedRoles"},outputs:{selectedRolesChanged:"selectedRolesChanged",closeSidebar:"closeSidebar"},decls:19,vars:7,consts:[[1,"main-header"],[1,"title-container"],[1,"title-icon","closeSidebar",2,"padding-left","8px",3,"click"],["nz-icon","",2,"font-size","x-large","width","32px","text-align","left",3,"icon"],[1,"title-icon"],["icon","fa#user-tag",2,"font-size","20px","text-align","left"],[2,"display","flex","flex-direction","column","justify-content","center","line-height","1.3em"],[1,"title"],["nzNoColon","","nz-form","",2,"padding","10px","border-bottom","1px solid #eaeaeb",3,"formGroup"],[3,"nzSuffix"],["type","text","nz-input","","formControlName","Filter","placeholder","Filter"],["inputClearTpl",""],[2,"overflow-x","auto"],[2,"margin","10px 5px"],["class","roleItem",3,"deleted",4,"ngFor","ngForOf"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"roleItem"],[2,"display","flex"],[1,"selector"],["nz-icon","",2,"width","1.18em","margin","0 .25rem 0 0","font-size","1.2em",3,"icon"],[1,"action-item",2,"padding","5px","flex-grow","1",3,"click"],[2,"font-size","large","font-weight","bold"]],template:function(e,t){if(1&e&&(s.gc(0,"div",0),s.gc(1,"div",1),s.gc(2,"div",2),s.oc("click",(function(){return t.Close()})),s.bc(3,"fa-icon",3),s.fc(),s.gc(4,"div",4),s.bc(5,"db-icon",5),s.fc(),s.gc(6,"div",6),s.gc(7,"div",7),s.Sc(8," Available Roles "),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(9,"form",8),s.gc(10,"nz-form-control"),s.gc(11,"nz-input-group",9),s.bc(12,"input",10),s.fc(),s.Qc(13,pe,2,3,"ng-template",null,11,s.Rc),s.fc(),s.fc(),s.gc(15,"div",12),s.gc(16,"div",13),s.Qc(17,Ce,11,14,"div",14),s.sc(18,"async"),s.fc(),s.fc()),2&e){const e=s.Gc(14);s.Mb(3),s.yc("icon",s.Ac(6,Se)),s.Mb(6),s.yc("formGroup",t.form),s.Mb(2),s.yc("nzSuffix",e),s.Mb(6),s.yc("ngForOf",s.tc(18,4,t.availableRoles$))}},directives:[he.b,k.a,I.b,re.c,c.q,c.m,Z.b,c.g,te.a,Z.a,ne.c,ne.d,ne.b,c.c,c.l,c.f,i.s,i.t],pipes:[i.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}.action-item[_ngcontent-%COMP%]{margin-bottom:10px!important;border-radius:0!important;box-shadow:0 0 3px 1px #cecece;background-color:#fff}.action-item.disabled[_ngcontent-%COMP%]{opacity:.6;box-shadow:none;background-color:#e2e2e2}.action-item[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{border-right:1px solid #fff}.action-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.action-item.selected[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{background-color:#292f3b;color:#fff}.action-item[_ngcontent-%COMP%]:hover{background-color:#b2b7c2}.new-rule.ui.button[_ngcontent-%COMP%]{margin:0}.options[_ngcontent-%COMP%]{background-color:grey;height:50px}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:inherit!important}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:inherit}.dragHandle[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.list-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#e0e1e2}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{cursor:inherit}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:inherit}.list-item.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%], .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{border-radius:0!important;background-color:#2f2f2f;color:#f5f5f5}.outer.cdk-drop-list-dragging[_ngcontent-%COMP%] > .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}.selector[_ngcontent-%COMP%]{padding:10px 0 0 5px;overflow:hidden;visibility:hidden}.isSelected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.shrinked[_ngcontent-%COMP%]{width:0;padding:0}.roleItem[_ngcontent-%COMP%]:hover   .selector[_ngcontent-%COMP%]{visibility:visible}.main-header[_ngcontent-%COMP%]{min-height:40px;max-height:40px;background-color:#292f3b;color:#f5f5f5;display:flex;flex-direction:row}.closeSidebar[_ngcontent-%COMP%]{transition:.1s}.closeSidebar[_ngcontent-%COMP%]:hover{transform:scale(1.3) translate(3px)}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;justify-items:center;padding-right:5px}.main-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.main-header[_ngcontent-%COMP%]   .title.title-only[_ngcontent-%COMP%]{font-size:2em}.deleted[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]{text-decoration:line-through}"]}),e})();const ye=["itemsContextMenu"],ze=["drawerTemplate"],xe=function(){return["far","plus-square"]};function Me(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",7),s.gc(1,"li",8),s.oc("click",(function(){return s.Ic(e),s.rc().AddRole()})),s.bc(2,"fa-icon",9),s.Sc(3," Add Role "),s.fc(),s.fc()}2&e&&(s.Mb(2),s.yc("icon",s.Ac(1,xe)))}function we(e,t){if(1&e){const e=s.hc();s.gc(0,"li",8),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveRole(t.SelectedData)})),s.bc(1,"i",11),s.Sc(2," Delete "),s.fc()}}function Re(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",7),s.gc(1,"li",8),s.oc("click",(function(){return s.Ic(e),s.rc().AddRole()})),s.bc(2,"fa-icon",9),s.Sc(3," Add Role "),s.fc(),s.Qc(4,we,3,0,"li",10),s.fc()}if(2&e){const e=t.$implicit;s.Mb(2),s.yc("icon",s.Ac(2,xe)),s.Mb(2),s.yc("ngIf",e.Any)}}let Oe=(()=>{class e{constructor(e,t,n){this.overlay=e,this.viewContainerRef=t,this.drawerService=n,this.rolesSubject$=new le.a(null),this._roles=[],this.sideBarOpen=!1,this._disabled=!1,this.rolesChange=new s.q,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0}),e=>e.Default("Name").SetInitialWidth(300,!0),e=>e.Default("DisplayName")).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id).SetRowClassRules({deleted:"data.Deleted"}),this.value="ng",this.registered=[],this.onTouched=()=>{}}set roles(e){var t;let n=e||[];0==n.length&&(n=[]),this._roles=n.sort(se),this.rolesSubject$.next(this._roles),null===(t=this.grid)||void 0===t||t.SetData(this._roles)}get roles(){return this._roles}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}RemoveRole(e){this.roles=this.roles.filter(t=>!e.includes(t)),this.contextMenu.Close()}AddRole(){this.sideBarOpen=!0,this.contextMenu.Close()}RolesChanged(e){this.roles=e,this.propagateChange(e)}openTemplate(){const e=this.drawerService.create({nzTitle:"Template",nzContent:this.drawerTemplate,nzContentParams:{value:this.value},nzMask:!1,nzWidth:400});e.afterOpen.subscribe(()=>{console.log("Drawer(Template) open")}),e.afterClose.subscribe(()=>{console.log("Drawer(Template) close")})}propagateChange(e){this.rolesChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.roles=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(s.ac(M.c),s.ac(s.Y),s.ac(ae.b))},e.\u0275cmp=s.Ub({type:e,selectors:[["roles-manager"]],viewQuery:function(e,t){var n;1&e&&(s.Xc(ye,!0),s.Xc(ze,!0)),2&e&&(s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first),s.Fc(n=s.pc())&&(t.drawerTemplate=n.first))},inputs:{roles:"roles",disabled:"disabled"},outputs:{rolesChange:"rolesChange"},features:[s.Lb([{provide:c.j,useExisting:e,multi:!0}])],decls:9,vars:4,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham",3,"dbGrid"],[1,"roles-manager-sidebar"],[2,"height","100%","background-color","white"],[3,"selectedRoles","selectedRolesChanged","closeSidebar"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(s.gc(0,"div",0),s.bc(1,"ag-grid-angular",1),s.gc(2,"div",2),s.gc(3,"div",3),s.gc(4,"add-roles-list",4),s.oc("selectedRolesChanged",(function(e){return t.RolesChanged(e)}))("closeSidebar",(function(){return t.sideBarOpen=!1})),s.fc(),s.fc(),s.fc(),s.fc(),s.Qc(5,Me,4,2,"ng-template",null,5,s.Rc),s.Qc(7,Re,5,3,"ng-template",null,6,s.Rc)),2&e&&(s.Mb(1),s.yc("dbGrid",t.grid),s.Mb(1),s.Sb("open",t.sideBarOpen),s.Mb(2),s.yc("selectedRoles",t.roles))},directives:[w.a,r.b,de.c,ve,O.c,k.a,O.e,he.b,I.b,i.t],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.roles-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.roles-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),e})();class ke{constructor(){this.Type=null,this.Value=null}}const Ie=["itemsContextMenu"],Te=function(){return["far","plus-square"]};function De(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddClaim()})),s.bc(2,"fa-icon",5),s.Sc(3," Add Claim "),s.fc(),s.fc()}2&e&&(s.Mb(2),s.yc("icon",s.Ac(1,Te)))}function Pe(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveClaim(t.SelectedData)})),s.bc(1,"i",7),s.Sc(2," Delete "),s.fc()}}function Ae(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddClaim()})),s.bc(2,"fa-icon",5),s.Sc(3," Add Claim "),s.fc(),s.Qc(4,Pe,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(2),s.yc("icon",s.Ac(2,Te)),s.Mb(2),s.yc("ngIf",e.Any)}}let _e=(()=>{class e{constructor(e,t){this.overlay=e,this.viewContainerRef=t,this._claims=[],this._disabled=!1,this.claimsChange=new s.q,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0}),e=>e.Default("Type").Editable().SetInitialWidth(300,!0).Set(e=>{e.filter="agTextColumnFilter",e.filterParams={buttons:["reset","apply"]}}),e=>e.Default("Value").Editable()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{t.deselectAll();let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}),this.i=0,this.registered=[],this.onTouched=()=>{}}set claims(e){var t;let n=e||[];0==n.length&&(n=[]),this._claims=n,null===(t=this.grid)||void 0===t||t.SetData(this._claims)}get claims(){return this._claims}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}buildNextClaim(){var e=new ke;return this.i++,e}AddClaim(){this.claims=[...this.claims,this.buildNextClaim()],this.contextMenu.Close()}RemoveClaim(e){this.claims=this.claims.filter(t=>!e.includes(t)),this.contextMenu.Close()}propagateChange(e){this.claimsChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.claims=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(s.ac(M.c),s.ac(s.Y))},e.\u0275cmp=s.Ub({type:e,selectors:[["claims-manager"]],viewQuery:function(e,t){var n;1&e&&s.Xc(Ie,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},inputs:{claims:"claims",disabled:"disabled"},outputs:{claimsChange:"claimsChange"},features:[s.Lb([{provide:c.j,useExisting:e,multi:!0}])],decls:5,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,De,4,2,"ng-template",null,1,s.Rc),s.Qc(3,Ae,5,3,"ng-template",null,2,s.Rc)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,O.c,k.a,O.e,he.b,I.b,i.t],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}"]}),e})();function Ne(e,t){1&e&&(s.bc(0,"i",36),s.Sc(1,"Basic "))}function Ue(e,t){1&e&&(s.bc(0,"db-icon",37),s.Sc(1,"Roles "))}function Fe(e,t){1&e&&(s.gc(0,"div",38),s.bc(1,"roles-manager",39),s.fc())}function Ge(e,t){1&e&&(s.bc(0,"i",36),s.Sc(1,"Claims "))}function Ee(e,t){1&e&&(s.gc(0,"div",38),s.bc(1,"claims-manager",40),s.fc())}function Le(e,t){1&e&&(s.bc(0,"i",43),s.Sc(1,"Debug"))}function Qe(e,t){if(1&e&&(s.gc(0,"nz-tab",4),s.Qc(1,Le,2,0,"ng-template",null,41,s.Rc),s.gc(3,"div",42),s.gc(4,"pre"),s.Sc(5),s.sc(6,"json"),s.fc(),s.fc(),s.fc()),2&e){const e=s.Gc(2),t=s.rc(2);s.yc("nzTitle",e),s.Mb(5),s.Tc(s.tc(6,2,t.form.value))}}const je=function(){return{inkBar:!0,tabPane:!1}};function Be(e,t){if(1&e){const e=s.hc();s.ec(0),s.gc(1,"form",2),s.gc(2,"nz-tabset",3),s.gc(3,"nz-tab",4),s.Qc(4,Ne,2,0,"ng-template",null,5,s.Rc),s.gc(6,"div",6),s.gc(7,"div",7),s.gc(8,"div",8),s.gc(9,"div",9),s.gc(10,"nz-form-label",10),s.Sc(11,"UserName"),s.fc(),s.gc(12,"nz-form-control"),s.bc(13,"input",11),s.fc(),s.fc(),s.fc(),s.gc(14,"div",8),s.gc(15,"div",12),s.gc(16,"div",13),s.gc(17,"nz-form-label",14),s.Sc(18,"Email"),s.fc(),s.bc(19,"div",7),s.gc(20,"label",15),s.Sc(21,"Email Confirmed"),s.fc(),s.fc(),s.gc(22,"nz-form-control"),s.bc(23,"input",16),s.fc(),s.fc(),s.gc(24,"div",12),s.gc(25,"div",13),s.gc(26,"nz-form-label",17),s.Sc(27,"Phone"),s.fc(),s.bc(28,"div",7),s.gc(29,"label",18),s.Sc(30,"Phone Confirmed"),s.fc(),s.fc(),s.gc(31,"nz-form-control"),s.bc(32,"input",19),s.fc(),s.fc(),s.fc(),s.gc(33,"div",8),s.gc(34,"div",12),s.gc(35,"nz-form-label",20),s.Sc(36,"Firstname"),s.fc(),s.gc(37,"nz-form-control"),s.bc(38,"input",21),s.fc(),s.fc(),s.gc(39,"div",12),s.gc(40,"nz-form-label",22),s.Sc(41,"Lastname"),s.fc(),s.gc(42,"nz-form-control"),s.bc(43,"input",23),s.fc(),s.fc(),s.fc(),s.fc(),s.bc(44,"div",24),s.gc(45,"div",25),s.gc(46,"nz-collapse",26),s.gc(47,"nz-collapse-panel",27),s.gc(48,"label",28),s.Sc(49," TwoFactorEnabled "),s.fc(),s.bc(50,"br"),s.gc(51,"label",29),s.Sc(52," LockoutEnabled "),s.fc(),s.bc(53,"br"),s.fc(),s.gc(54,"nz-collapse-panel",30),s.gc(55,"nz-date-picker",31),s.oc("ngModelChange",(function(t){return s.Ic(e),s.rc().onOk(t)})),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(56,"nz-tab",4),s.Qc(57,Ue,2,0,"ng-template",null,32,s.Rc),s.Qc(59,Fe,2,0,"ng-template",33),s.fc(),s.gc(60,"nz-tab",4),s.Qc(61,Ge,2,0,"ng-template",null,34,s.Rc),s.Qc(63,Ee,2,0,"ng-template",33),s.fc(),s.Qc(64,Qe,7,4,"nz-tab",35),s.sc(65,"async"),s.fc(),s.fc(),s.dc()}if(2&e){const e=s.Gc(5),t=s.Gc(58),n=s.Gc(62),i=s.rc();s.Mb(1),s.yc("formGroup",i.form),s.Mb(1),s.yc("nzAnimated",s.Ac(15,je)),s.Mb(1),s.yc("nzTitle",e),s.Mb(5),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(19),s.yc("nzGutter",8),s.Mb(13),s.yc("nzBordered",!0),s.Mb(1),s.yc("nzActive",!0),s.Mb(7),s.yc("nzActive",!0),s.Mb(1),s.yc("nzFormat","dd.MM.yyyy 23:59"),s.Mb(1),s.yc("nzTitle",t),s.Mb(4),s.yc("nzTitle",n),s.Mb(4),s.yc("ngIf",s.tc(65,13,i.showDebugInformations$))}}function $e(e,t){if(1&e){const e=s.hc();s.gc(0,"button",44),s.oc("click",(function(){return s.Ic(e),s.rc().Reload()})),s.bc(1,"i",45),s.Sc(2,"Reload"),s.fc()}}let He=(()=>{class e{constructor(e,t,n,i,c){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=c,this.user$=Object(J.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(Y.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetUser(this.Id))),Object(K.a)(),Object(a.a)(e=>this.setUser(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="Identity User",e.Content.Scrollable=!1,e.Header.Icon="fa#user",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseUser)}})}ngOnInit(){this.form=this.fb.group({Id:[null],UserName:[null,c.p.required],Email:[null,c.p.required],FirstName:[null],LastName:[null],PhoneNumber:[null],EmailConfirmed:[!1],PhoneNumberConfirmed:[!1],TwoFactorEnabled:[!1],LockoutEnabled:[!1],ExpiresOn:[null],Claims:[[]],Roles:[[]]})}setUser(e){this.BaseUser||(this.BaseUser=e),this.uiService.Set(t=>{t.Header.Title="Identity User",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create User",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}onOk(e){null==e||e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateUser(this.form.value).subscribe():this.idService.UpdateUser(this.form.value).subscribe()}Reload(){this.idService.GetUser(this.Id).subscribe(e=>{this.setUser(e),this.idService.ReLoadRoles()})}set BaseUser(e){this._baseUser=JSON.parse(JSON.stringify(e))}get BaseUser(){return this._baseUser}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(c.d),s.ac(o.a),s.ac(x),s.ac(s.h))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","UserName"],["nz-input","","formControlName","UserName","id","UserName",2,"width","100%"],["nz-col","","nzSpan","12"],[2,"display","flex","flex-direction","row","width","100%"],["nzRequired","","nzFor","Email"],["nz-checkbox","","formControlName","EmailConfirmed",2,"white-space","nowrap","margin","auto"],["nz-input","","formControlName","Email","id","Email",2,"flex-grow","1"],["nzFor","PhoneNumber"],["nz-checkbox","","formControlName","PhoneNumberConfirmed",2,"white-space","nowrap","margin","auto"],["nz-input","","formControlName","PhoneNumber","id","PhoneNumber",2,"flex-grow","1"],["nzFor","FirstName"],["nz-input","","formControlName","FirstName","id","FirstName",2,"width","100%"],["nzFor","LastName"],["nz-input","","formControlName","LastName","id","LastName",2,"width","100%"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],[3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","TwoFactorEnabled"],["nz-checkbox","","formControlName","LockoutEnabled"],["nzHeader","Expires On",3,"nzActive"],["formControlName","ExpiresOn","nzAllowClear","",2,"width","100%",3,"nzFormat","ngModelChange"],["RolesTitle",""],["nz-tab",""],["ClaimsTitle",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["icon","fa#user-tag"],[2,"display","flex","flex-direction","row","padding","3px 0px","flex-grow","1"],["formControlName","Roles"],["formControlName","Claims"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.Qc(0,Be,66,16,"ng-container",0),s.sc(1,"async"),s.Qc(2,$e,3,0,"ng-template",1)),2&e&&s.yc("ngIf",s.tc(1,1,t.user$))},directives:[i.t,R.e,c.q,c.m,Z.b,c.g,ee.c,ee.a,te.c,te.a,Z.d,Z.a,ne.b,c.c,c.l,c.f,ie.a,ce.a,ce.c,oe.b,ee.b,k.a,I.b,re.c,Oe,_e,T.a,D.a],pipes:[i.b,i.k],styles:[""],changeDetection:0}),e})();function We(e,t){var n,i,c,o;return(null===(n=e.UserName)||void 0===n?void 0:n.toLowerCase())<(null===(i=t.UserName)||void 0===i?void 0:i.toLowerCase())?-1:(null===(c=e.UserName)||void 0===c?void 0:c.toLowerCase())>(null===(o=t.UserName)||void 0===o?void 0:o.toLowerCase())?1:0}function Ve(e,t){if(1&e){const e=s.hc();s.gc(0,"i",16),s.oc("click",(function(){return s.Ic(e),s.rc(2).form.get("Filter").patchValue("")})),s.fc()}}function qe(e,t){if(1&e&&(s.Qc(0,Ve,1,0,"i",15),s.sc(1,"async")),2&e){const e=s.rc();s.yc("ngIf",s.tc(1,1,e.form.get("Filter").valueChanges))}}const Xe=function(){return["fas","chevron-left"]},Je=function(){return["fas","chevron-right"]};function Ye(e,t){if(1&e){const e=s.hc();s.gc(0,"div",17),s.gc(1,"div",18),s.gc(2,"div",19),s.bc(3,"fa-icon",20),s.fc(),s.gc(4,"div",21),s.oc("click",(function(){s.Ic(e);const n=t.$implicit;return s.rc().ToggleUser(n)})),s.gc(5,"div",22),s.Sc(6),s.fc(),s.gc(7,"div"),s.Sc(8),s.fc(),s.gc(9,"div"),s.Sc(10),s.fc(),s.fc(),s.gc(11,"div",19),s.bc(12,"fa-icon",20),s.fc(),s.fc(),s.fc()}if(2&e){const e=t.$implicit;s.Sb("deleted",e.Deleted),s.Mb(2),s.Sb("shrinked",e.Selected),s.Mb(1),s.yc("icon",s.Ac(14,Xe)),s.Mb(1),s.Sb("isSelected",e.Selected),s.Mb(2),s.Tc(e.UserName),s.Mb(2),s.Vc("",e.FirstName," ",e.LastName,""),s.Mb(2),s.Tc(e.Email),s.Mb(1),s.Sb("shrinked",!e.Selected),s.Mb(1),s.yc("icon",s.Ac(15,Je))}}const Ke=function(){return["fas","angle-double-right"]};let Ze=(()=>{class e{constructor(e,t,n){this.identityUsersQuery=e,this.identityService=t,this.fb=n,this.selectedUsersSubject$=new le.a([]),this.selectedUsersChanged=new s.q,this.closeSidebar=new s.q,this.form=this.fb.group({Filter:[null]}),this.filter$=Object(ue.a)(Object(fe.a)(null),this.form.get("Filter").valueChanges),this.availableUsers$=Object(J.a)(this.identityService.GetAllUsers(),this.selectedUsersSubject$,this.filter$).pipe(Object(Y.a)(([e,t,n])=>{const i=e.filter(e=>e.Deleted).map(e=>e.Id),c=t.filter(e=>i.includes(e.Id));if(c&&c.length>0){const e=t.map(e=>Object.assign(Object.assign({},e),{Deleted:c.includes(e)}));this.selectedUsersChanged.next(e)}let o=e;if(n){const e=new RegExp(`${n}`,"i");o=o.filter(t=>t.UserName.match(e)||t.Email.match(e)||t.Firstname.match(e)||t.Lastname.match(e))}return o.sort(We).map(e=>Object.assign(Object.assign({},e),{Selected:t.map(e=>e.Id).includes(e.Id)}))}))}set selectedUsers(e){this.selectedUsersSubject$.next(e)}ngOnInit(){}ToggleUser(e){let t=[];t=e.Selected?this.selectedUsersSubject$.getValue().filter(t=>t.Id!=e.Id):[...this.selectedUsersSubject$.getValue(),e],this.selectedUsersChanged.next(t)}Close(){this.closeSidebar.next()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(p),s.ac(x),s.ac(c.d))},e.\u0275cmp=s.Ub({type:e,selectors:[["add-users-list"]],inputs:{selectedUsers:"selectedUsers"},outputs:{selectedUsersChanged:"selectedUsersChanged",closeSidebar:"closeSidebar"},decls:19,vars:7,consts:[[1,"main-header"],[1,"title-container"],[1,"title-icon","closeSidebar",2,"padding-left","8px",3,"click"],["nz-icon","",2,"font-size","x-large","width","32px","text-align","left",3,"icon"],[1,"title-icon"],["icon","fa#users",2,"font-size","20px","text-align","left"],[2,"display","flex","flex-direction","column","justify-content","center","line-height","1.3em"],[1,"title"],["nzNoColon","","nz-form","",2,"padding","10px","border-bottom","1px solid #eaeaeb",3,"formGroup"],[3,"nzSuffix"],["type","text","nz-input","","formControlName","Filter","placeholder","Filter"],["inputClearTpl",""],[2,"overflow-x","auto"],[2,"margin","10px 5px"],["class","userItem",3,"deleted",4,"ngFor","ngForOf"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[1,"userItem"],[2,"display","flex"],[1,"selector"],["nz-icon","",2,"width","1.18em","margin","0 .25rem 0 0","font-size","1.2em",3,"icon"],[1,"action-item",2,"padding","5px","flex-grow","1",3,"click"],[2,"font-size","large","font-weight","bold"]],template:function(e,t){if(1&e&&(s.gc(0,"div",0),s.gc(1,"div",1),s.gc(2,"div",2),s.oc("click",(function(){return t.Close()})),s.bc(3,"fa-icon",3),s.fc(),s.gc(4,"div",4),s.bc(5,"db-icon",5),s.fc(),s.gc(6,"div",6),s.gc(7,"div",7),s.Sc(8," Available Users "),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(9,"form",8),s.gc(10,"nz-form-control"),s.gc(11,"nz-input-group",9),s.bc(12,"input",10),s.fc(),s.Qc(13,qe,2,3,"ng-template",null,11,s.Rc),s.fc(),s.fc(),s.gc(15,"div",12),s.gc(16,"div",13),s.Qc(17,Ye,13,16,"div",14),s.sc(18,"async"),s.fc(),s.fc()),2&e){const e=s.Gc(14);s.Mb(3),s.yc("icon",s.Ac(6,Ke)),s.Mb(6),s.yc("formGroup",t.form),s.Mb(2),s.yc("nzSuffix",e),s.Mb(6),s.yc("ngForOf",s.tc(18,4,t.availableUsers$))}},directives:[he.b,k.a,I.b,re.c,c.q,c.m,Z.b,c.g,te.a,Z.a,ne.c,ne.d,ne.b,c.c,c.l,c.f,i.s,i.t],pipes:[i.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}.action-item[_ngcontent-%COMP%]{margin-bottom:10px!important;border-radius:0!important;box-shadow:0 0 3px 1px #cecece;background-color:#fff}.action-item.disabled[_ngcontent-%COMP%]{opacity:.6;box-shadow:none;background-color:#e2e2e2}.action-item[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{border-right:1px solid #fff}.action-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.action-item.selected[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{background-color:#292f3b;color:#fff}.action-item[_ngcontent-%COMP%]:hover{background-color:#b2b7c2}.new-rule.ui.button[_ngcontent-%COMP%]{margin:0}.options[_ngcontent-%COMP%]{background-color:grey;height:50px}.list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:inherit!important}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover{background-color:inherit}.dragHandle[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.list-item[_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:#e0e1e2}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dragHandle[_ngcontent-%COMP%]{cursor:inherit}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   .dragHandle[_ngcontent-%COMP%]{background-color:inherit}.list-item.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%], .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{border-radius:0!important;background-color:#2f2f2f;color:#f5f5f5}.outer.cdk-drop-list-dragging[_ngcontent-%COMP%] > .new-rule.cdk-drag.cdk-drag-placeholder[_ngcontent-%COMP%]{display:none}.context-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0!important}.selector[_ngcontent-%COMP%]{padding:10px 0 0 5px;overflow:hidden;visibility:hidden}.isSelected[_ngcontent-%COMP%]{background-color:#525e76;color:#fff}.shrinked[_ngcontent-%COMP%]{width:0;padding:0}.userItem[_ngcontent-%COMP%]:hover   .selector[_ngcontent-%COMP%]{visibility:visible}.main-header[_ngcontent-%COMP%]{min-height:40px;max-height:40px;background-color:#292f3b;color:#f5f5f5;display:flex;flex-direction:row}.closeSidebar[_ngcontent-%COMP%]{transition:.1s}.closeSidebar[_ngcontent-%COMP%]:hover{transform:scale(1.3) translate(3px)}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.main-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;justify-items:center;padding-right:5px}.main-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.main-header[_ngcontent-%COMP%]   .title.title-only[_ngcontent-%COMP%]{font-size:2em}.deleted[_ngcontent-%COMP%]   .action-item[_ngcontent-%COMP%]{text-decoration:line-through}"]}),e})();const et=["itemsContextMenu"],tt=["drawerTemplate"],nt=function(){return["far","plus-square"]};function it(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",7),s.gc(1,"li",8),s.oc("click",(function(){return s.Ic(e),s.rc().AddUser()})),s.bc(2,"fa-icon",9),s.Sc(3," Add User "),s.fc(),s.fc()}2&e&&(s.Mb(2),s.yc("icon",s.Ac(1,nt)))}function ct(e,t){if(1&e){const e=s.hc();s.gc(0,"li",8),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveUser(t.SelectedData)})),s.bc(1,"i",11),s.Sc(2," Delete "),s.fc()}}function ot(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",7),s.gc(1,"li",8),s.oc("click",(function(){return s.Ic(e),s.rc().AddUser()})),s.bc(2,"fa-icon",9),s.Sc(3," Add User "),s.fc(),s.Qc(4,ct,3,0,"li",10),s.fc()}if(2&e){const e=t.$implicit;s.Mb(2),s.yc("icon",s.Ac(2,nt)),s.Mb(2),s.yc("ngIf",e.Any)}}let rt=(()=>{class e{constructor(e,t,n){this.overlay=e,this.viewContainerRef=t,this.drawerService=n,this.usersSubject$=new le.a(null),this._users=[],this.sideBarOpen=!1,this._disabled=!1,this.usersChange=new s.q,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0}),e=>e.Default("UserName").SetInitialWidth(200,!0),e=>e.Default("FirstName").SetInitialWidth(200,!0),e=>e.Default("LastName").SetInitialWidth(200,!0),e=>e.Default("Email")).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetDataImmutable(e=>e.Id).SetRowClassRules({deleted:"data.Deleted"}),this.registered=[],this.onTouched=()=>{}}set users(e){var t;let n=e||[];0==n.length&&(n=[]),this._users=n.sort(We),this.usersSubject$.next(this._users),null===(t=this.grid)||void 0===t||t.SetData(this._users)}get users(){return this._users}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}RemoveUser(e){this.users=this.users.filter(t=>!e.includes(t)),this.contextMenu.Close()}AddUser(){this.sideBarOpen=!0,this.contextMenu.Close()}UsersChanged(e){this.users=e,this.propagateChange(e)}propagateChange(e){this.usersChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.users=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(s.ac(M.c),s.ac(s.Y),s.ac(ae.b))},e.\u0275cmp=s.Ub({type:e,selectors:[["users-manager"]],viewQuery:function(e,t){var n;1&e&&(s.Xc(et,!0),s.Xc(tt,!0)),2&e&&(s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first),s.Fc(n=s.pc())&&(t.drawerTemplate=n.first))},inputs:{users:"users",disabled:"disabled"},outputs:{usersChange:"usersChange"},features:[s.Lb([{provide:c.j,useExisting:e,multi:!0}])],decls:9,vars:4,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham",3,"dbGrid"],[1,"users-manager-sidebar"],[2,"height","100%","background-color","white"],[3,"selectedUsers","selectedUsersChanged","closeSidebar"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(s.gc(0,"div",0),s.bc(1,"ag-grid-angular",1),s.gc(2,"div",2),s.gc(3,"div",3),s.gc(4,"add-users-list",4),s.oc("selectedUsersChanged",(function(e){return t.UsersChanged(e)}))("closeSidebar",(function(){return t.sideBarOpen=!1})),s.fc(),s.fc(),s.fc(),s.fc(),s.Qc(5,it,4,2,"ng-template",null,5,s.Rc),s.Qc(7,ot,5,3,"ng-template",null,6,s.Rc)),2&e&&(s.Mb(1),s.yc("dbGrid",t.grid),s.Mb(1),s.Sb("open",t.sideBarOpen),s.Mb(2),s.yc("selectedUsers",t.users))},directives:[w.a,r.b,de.c,Ze,O.c,k.a,O.e,he.b,I.b,i.t],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.users-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.users-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),e})();function st(e,t){1&e&&(s.bc(0,"i",21),s.Sc(1,"Basic "))}function lt(e,t){1&e&&(s.bc(0,"db-icon",22),s.Sc(1,"Members "))}function at(e,t){1&e&&(s.gc(0,"div",23),s.bc(1,"users-manager",24),s.fc())}function dt(e,t){1&e&&(s.bc(0,"i",27),s.Sc(1,"Debug"))}function ut(e,t){if(1&e&&(s.gc(0,"nz-tab",4),s.Qc(1,dt,2,0,"ng-template",null,25,s.Rc),s.gc(3,"div",26),s.gc(4,"pre"),s.Sc(5),s.sc(6,"json"),s.fc(),s.fc(),s.fc()),2&e){const e=s.Gc(2),t=s.rc(2);s.yc("nzTitle",e),s.Mb(5),s.Tc(s.tc(6,2,t.form.value))}}const ft=function(){return{inkBar:!0,tabPane:!1}},ht=function(){return{minRows:4,maxRows:12}};function gt(e,t){if(1&e&&(s.ec(0),s.gc(1,"form",2),s.gc(2,"nz-tabset",3),s.gc(3,"nz-tab",4),s.Qc(4,st,2,0,"ng-template",null,5,s.Rc),s.gc(6,"div",6),s.gc(7,"div",7),s.gc(8,"div",8),s.gc(9,"div",9),s.gc(10,"nz-form-label",10),s.Sc(11,"Name"),s.fc(),s.gc(12,"nz-form-control"),s.bc(13,"input",11),s.fc(),s.fc(),s.fc(),s.gc(14,"div",8),s.gc(15,"div",9),s.gc(16,"nz-form-label",12),s.Sc(17,"DisplayName"),s.fc(),s.gc(18,"nz-form-control"),s.bc(19,"input",13),s.fc(),s.fc(),s.fc(),s.gc(20,"div",8),s.gc(21,"div",9),s.gc(22,"nz-form-label",14),s.Sc(23,"Description"),s.fc(),s.gc(24,"nz-form-control"),s.bc(25,"textarea",15),s.fc(),s.fc(),s.fc(),s.fc(),s.bc(26,"div",16),s.bc(27,"div",17),s.fc(),s.fc(),s.gc(28,"nz-tab",4),s.Qc(29,lt,2,0,"ng-template",null,18,s.Rc),s.Qc(31,at,2,0,"ng-template",19),s.fc(),s.Qc(32,ut,7,4,"nz-tab",20),s.sc(33,"async"),s.fc(),s.fc(),s.dc()),2&e){const e=s.Gc(5),t=s.Gc(30),n=s.rc();s.Mb(1),s.yc("formGroup",n.form),s.Mb(1),s.yc("nzAnimated",s.Ac(11,ft)),s.Mb(1),s.yc("nzTitle",e),s.Mb(5),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(5),s.yc("nzAutosize",s.Ac(12,ht)),s.Mb(3),s.yc("nzTitle",t),s.Mb(4),s.yc("ngIf",s.tc(33,9,n.showDebugInformations$))}}function pt(e,t){if(1&e){const e=s.hc();s.gc(0,"button",28),s.oc("click",(function(){return s.Ic(e),s.rc().Reload()})),s.bc(1,"i",29),s.Sc(2,"Reload"),s.fc()}}let mt=(()=>{class e{constructor(e,t,n,i,c){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=c,this.user$=Object(J.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(Y.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetRole(this.Id))),Object(K.a)(),Object(a.a)(e=>this.setRole(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="Role",e.Content.Scrollable=!1,e.Header.Icon="fa#user-tag",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Name:[null,c.p.required],DisplayName:[null,c.p.required],Description:[null],Users:[[]]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateRole(this.form.value).subscribe():this.idService.UpdateRole(this.form.value).subscribe()}setRole(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="Role",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create Role",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetRole(this.Id).subscribe(e=>{this.setRole(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(c.d),s.ac(o.a),s.ac(x),s.ac(s.h))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["UsersTitle",""],["nz-tab",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["icon","fa#users"],[2,"display","flex","flex-direction","row","padding","3px 0px","flex-grow","1"],["formControlName","Users"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.Qc(0,gt,34,13,"ng-container",0),s.sc(1,"async"),s.Qc(2,pt,3,0,"ng-template",1)),2&e&&s.yc("ngIf",s.tc(1,1,t.user$))},directives:[i.t,R.e,c.q,c.m,Z.b,c.g,ee.c,ee.a,te.c,te.a,Z.d,Z.a,ne.b,c.c,c.l,c.f,ne.a,ee.b,k.a,I.b,re.c,rt,T.a,D.a],pipes:[i.b,i.k],styles:[""]}),e})();class bt{constructor(){this.Type="SharedSecret"}}function Ct(e,t){return e.Expiration<t.Expiration?-1:e.Expiration>t.Expiration?1:0}var St=n("zAKX");let vt=(()=>{class e{constructor(e,t){this.fb=e,this.context=t,this.secret=t.data,this.form=this.fb.group({Type:[null,c.p.required],Value:[],Description:[],Expiration:[]}),this.form.patchValue(this.secret||{})}onOk(e){null==e||e.setHours(23,59,0,0)}ok(){this.context.invoke("ok",this.form.value).subscribe(()=>{this.context.handle.Close()})}cancel(){this.context.handle.Close()}onValueChange(e){console.log(`Current value: ${e}`)}onPanelChange(e){console.log(`Current value: ${e.date}`),console.log(`Current mode: ${e.mode}`)}}return e.\u0275fac=function(t){return new(t||e)(s.ac(c.d),s.ac(M.d))},e.\u0275cmp=s.Ub({type:e,selectors:[["secret-modal"]],hostAttrs:[1,"flex-grow-column"],decls:32,vars:3,consts:[[1,"ui","top","attached","segment","modal-header",2,"padding","10px !important","display","flex"],[2,"color","whitesmoke","margin","auto"],[2,"font-size","2em","font-weight","bold","min-height","1.4285em","line-height","1.4285em","color","whitesmoke","margin","auto"],[2,"font-size","0.8em","line-height","initial","color","#bbbbbb"],["dbPortal","ModalSubHeader"],[2,"flex-grow","1"],[2,"display","flex","flex-direction","column","justify-content","center"],[1,"ui","attached","segment","modal-content"],["nz-form","",2,"flex-grow","1","display","flex","flex-direction","column",3,"formGroup"],[1,"field",2,"flex-grow","1","display","flex","flex-direction","column"],["formControlName","Type",2,"width","100%"],["nzLabel","Shared Secret","nzValue","SharedSecret"],["nz-input","","formControlName","Value"],["nz-input","","formControlName","Description"],["formControlName","Expiration","nzAllowClear","",2,"width","100%",3,"nzFormat","ngModelChange"],[1,"ui","bottom","attached","segment","modal-footer",2,"margin-bottom","0px"],["nz-button","","nzType","primary","nzBlock","",2,"margin-right","1px",3,"disabled","click"],["nz-button","","nzType","default","nzBlock","",1,"secondary",2,"margin-left","1px",3,"click"]],template:function(e,t){1&e&&(s.gc(0,"div",0),s.gc(1,"div",1),s.gc(2,"div",2),s.Sc(3," Secret "),s.fc(),s.gc(4,"div",3),s.cc(5,4),s.fc(),s.fc(),s.bc(6,"div",5),s.bc(7,"div",6),s.fc(),s.gc(8,"div",7),s.gc(9,"form",8),s.gc(10,"div",9),s.gc(11,"label"),s.Sc(12,"Type"),s.fc(),s.gc(13,"nz-select",10),s.bc(14,"nz-option",11),s.fc(),s.fc(),s.gc(15,"div",9),s.gc(16,"label"),s.Sc(17,"Value"),s.fc(),s.bc(18,"input",12),s.fc(),s.gc(19,"div",9),s.gc(20,"label"),s.Sc(21,"Description"),s.fc(),s.bc(22,"input",13),s.fc(),s.gc(23,"div",9),s.gc(24,"label"),s.Sc(25,"Description"),s.fc(),s.gc(26,"nz-date-picker",14),s.oc("ngModelChange",(function(e){return t.onOk(e)})),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(27,"div",15),s.gc(28,"button",16),s.oc("click",(function(){return t.ok()})),s.Sc(29,"Save"),s.fc(),s.gc(30,"button",17),s.oc("click",(function(){return t.cancel()})),s.Sc(31,"Cancel"),s.fc(),s.fc()),2&e&&(s.Mb(9),s.yc("formGroup",t.form),s.Mb(17),s.yc("nzFormat","dd.MM.yyyy 23:59"),s.Mb(2),s.yc("disabled",!t.form.valid))},directives:[R.d,c.q,c.m,Z.b,c.g,St.b,c.l,c.f,St.a,ne.b,c.c,oe.b,T.a,D.a,k.a],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#292f3b!important;border:1px solid #fff!important}.modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   .ui.huge.header[_ngcontent-%COMP%]{color:#fff!important}.modal-footer[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{border:none!important;display:flex}.modal-content[_ngcontent-%COMP%]{flex-grow:1;padding:8px 8px 0}.flex-grow-column[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], basic-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ng-component[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}basic-modal[_ngcontent-%COMP%]   div[name][_ngcontent-%COMP%]{min-height:1.28571429em}basic-modal[_ngcontent-%COMP%]{box-shadow:3px 3px 5px 0 #333}.secretCalendar[_ngcontent-%COMP%]  .ant-picker-calendar-mode-switch{display:none}"]}),e})();const yt=["itemsContextMenu"],zt=function(){return["far","plus-square"]};function xt(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",4),s.gc(1,"li",5),s.oc("click",(function(){return s.Ic(e),s.rc().AddSecret()})),s.bc(2,"fa-icon",6),s.Sc(3," Add Secret "),s.fc(),s.fc()}2&e&&(s.Mb(2),s.yc("icon",s.Ac(1,zt)))}function Mt(e,t){if(1&e){const e=s.hc();s.gc(0,"li",5),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveSecret(t.SelectedData)})),s.bc(1,"i",8),s.Sc(2," Delete "),s.fc()}}function wt(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",4),s.gc(1,"li",5),s.oc("click",(function(){return s.Ic(e),s.rc().AddSecret()})),s.bc(2,"fa-icon",6),s.Sc(3," Add Secret "),s.fc(),s.Qc(4,Mt,3,0,"li",7),s.fc()}if(2&e){const e=t.$implicit;s.Mb(2),s.yc("icon",s.Ac(2,zt)),s.Mb(2),s.yc("ngIf",e.Any)}}let Rt=(()=>{class e{constructor(e,t,n){this.overlay=e,this.viewContainerRef=t,this.modal=n,this.secretsSubject$=new le.a(null),this._secrets=[],this.sideBarOpen=!1,this._disabled=!1,this.secretsChange=new s.q,this.grid=(new r.d).SetColumns(e=>e.Default("Type").SetInitialWidth(160,!0).Resizeable(!1),e=>e.Default("Description"),e=>e.Date("Expiration").SetInitialWidth(200,!0)).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.createSecret(e.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>{e.api.sizeColumnsToFit()}).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}),this.registered=[],this.onTouched=()=>{}}set secrets(e){var t;let n=e||[];0==n.length&&(n=[]),this._secrets=n.sort(Ct),this.secretsSubject$.next(this._secrets),null===(t=this.grid)||void 0===t||t.SetData(this._secrets)}get secrets(){return this._secrets}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}createSecret(e){var t,n=null!=e?e:new bt;this.modal.FromComponent(vt).SetData(n).SetMetaData({create:!e}).SetModalOptions({overlayConfig:{width:"400px"}}).OnClose(()=>{}).AddEventHandler("ok",t=>{let n=t.payload;return n.Id=null==e?void 0:e.Id,this.secrets=e?this.secrets.map(t=>t==e?n:t):[...this.secrets,n],console.log(n),Object(fe.a)(!0)}).Open(),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveSecret(e){this.secrets=this.secrets.filter(t=>!e.includes(t)),this.contextMenu.Close()}AddSecret(){this.createSecret(),this.contextMenu.Close()}SecretsChanged(e){this.secrets=e,this.propagateChange(e)}propagateChange(e){this.secretsChange.emit(e),this.registered.forEach(t=>{t(e)})}writeValue(e){this.secrets=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(s.ac(M.c),s.ac(s.Y),s.ac(M.b))},e.\u0275cmp=s.Ub({type:e,selectors:[["secrets-manager"]],viewQuery:function(e,t){var n;1&e&&s.Xc(yt,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},inputs:{secrets:"secrets",disabled:"disabled"},outputs:{secretsChange:"secretsChange"},features:[s.Lb([{provide:c.j,useExisting:e,multi:!0}])],decls:6,vars:1,consts:[[2,"flex-grow","1","display","flex","position","relative"],["cdkDropList","",1,"ag-theme-balham",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(s.gc(0,"div",0),s.bc(1,"ag-grid-angular",1),s.fc(),s.Qc(2,xt,4,2,"ng-template",null,2,s.Rc),s.Qc(4,wt,5,3,"ng-template",null,3,s.Rc)),2&e&&(s.Mb(1),s.yc("dbGrid",t.grid))},directives:[w.a,r.b,de.c,O.c,k.a,O.e,he.b,I.b,i.t],styles:["[_nghost-%COMP%]{width:100%;flex-grow:1;display:flex;flex-direction:column;overflow:hidden}.editable-cell[_ngcontent-%COMP%]{position:relative;padding:5px 12px;cursor:pointer;min-height:32px}.editable-row[_ngcontent-%COMP%]:hover   .editable-cell[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-radius:4px;padding:4px 11px}.editable-row[_ngcontent-%COMP%]{height:49px}nz-table[_ngcontent-%COMP%]{flex-grow:1}.secrets-manager-sidebar[_ngcontent-%COMP%]{position:absolute;right:0;width:40%;height:100%;transition:.3s;border-left:1px solid grey;padding:0 1px 1px 0;transform:translate3d(100%,0,0)}.secrets-manager-sidebar.open[_ngcontent-%COMP%]{transform:translateZ(0)}"]}),e})();var Ot=n("z4wI");const kt=["itemsContextMenu"],It=function(){return["far","plus-square"]};function Tt(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddEntry()})),s.bc(2,"fa-icon",5),s.Sc(3," Add Entry "),s.fc(),s.fc()}2&e&&(s.Mb(2),s.yc("icon",s.Ac(1,It)))}function Dt(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveEntry(t.SelectedData)})),s.bc(1,"i",7),s.Sc(2," Delete "),s.fc()}}function Pt(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddEntry()})),s.bc(2,"fa-icon",5),s.Sc(3," Add Entry "),s.fc(),s.Qc(4,Dt,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(2),s.yc("icon",s.Ac(2,It)),s.Mb(2),s.yc("ngIf",e.Any)}}let At=(()=>{class e{constructor(e,t){this.overlay=e,this.viewContainerRef=t,this._entries=[],this.header="Value",this._disabled=!1,this.entriesChange=new s.q,this.registered=[],this.onTouched=()=>{}}set entries(e){let t=e||[];0==t.length&&(t=[]),this.SetListEntries(t.map(e=>new _t(e)))}get entries(){return this._entries.map(e=>e.Value)}SetListEntries(e){var t;this._entries=e,null===(t=this.grid)||void 0===t||t.SetData(this._entries)}get disabled(){return this._disabled}set disabled(e){this._disabled=null!=e&&!1!==e&&!!e}ngOnInit(){this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0}),e=>e.Default("Value").SetHeader(this.header).Editable()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnDataUpdate(e=>this.propagateChange(e)).OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{t.deselectAll();let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{}).SetData(this.entries).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetGridOptions({onCellEditingStopped:e=>{let t=[];e.api.forEachNode((function(e){t.push(e.data)})),this.propagateChange(t)}})}AddEntry(){this.entries=[...this.entries,null],this.contextMenu.Close()}RemoveEntry(e){this.SetListEntries(this._entries.filter(t=>!e.includes(t))),this.contextMenu.Close()}propagateChange(e){const t=e.map(e=>e.Value).filter(Boolean);this.entriesChange.emit(t),this.registered.forEach(e=>{e(t)})}writeValue(e){this.entries=e}registerOnChange(e){-1===this.registered.indexOf(e)&&this.registered.push(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return e.\u0275fac=function(t){return new(t||e)(s.ac(M.c),s.ac(s.Y))},e.\u0275cmp=s.Ub({type:e,selectors:[["simple-list"]],viewQuery:function(e,t){var n;1&e&&s.Xc(kt,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},inputs:{entries:"entries",header:"header",disabled:"disabled"},outputs:{entriesChange:"entriesChange"},features:[s.Lb([{provide:c.j,useExisting:e,multi:!0}])],decls:5,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["viewportContextMenu",""],["itemsContextMenu",""],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","",3,"icon"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,Tt,4,2,"ng-template",null,1,s.Rc),s.Qc(3,Pt,5,3,"ng-template",null,2,s.Rc)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,O.c,k.a,O.e,he.b,I.b,i.t],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;height:100%}"]}),e})();class _t{constructor(e){this.Value=e}}var Nt=n("rMZv");function Ut(e,t){1&e&&(s.bc(0,"i",37),s.Sc(1,"Basic "))}function Ft(e,t){1&e&&(s.bc(0,"i",37),s.Sc(1,"Consent Settings "))}function Gt(e,t){1&e&&(s.gc(0,"div",6),s.gc(1,"div",7),s.gc(2,"div",8),s.gc(3,"div",9),s.gc(4,"nz-form-label",38),s.Sc(5,"ClientUri"),s.fc(),s.gc(6,"nz-form-control"),s.bc(7,"input",39),s.fc(),s.fc(),s.fc(),s.gc(8,"div",8),s.gc(9,"div",9),s.gc(10,"nz-form-label",40),s.Sc(11,"LogoUri"),s.fc(),s.gc(12,"nz-form-control"),s.bc(13,"input",41),s.fc(),s.fc(),s.fc(),s.fc(),s.bc(14,"div",17),s.gc(15,"div",18),s.gc(16,"nz-collapse",19),s.gc(17,"nz-collapse-panel",20),s.gc(18,"label",42),s.Sc(19," Require Consent "),s.fc(),s.bc(20,"br"),s.gc(21,"label",43),s.Sc(22," Allow Remember Consent "),s.fc(),s.bc(23,"br"),s.fc(),s.gc(24,"nz-collapse-panel",44),s.bc(25,"nz-input-number",45),s.gc(26,"span"),s.Sc(27,"Lifetime of a user consent in seconds. Defaults to null (no expiration)."),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&e&&(s.Mb(2),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(8),s.yc("nzBordered",!0),s.Mb(1),s.yc("nzActive",!0),s.Mb(7),s.yc("nzActive",!0),s.Mb(1),s.yc("nzStep",1))}function Et(e,t){1&e&&(s.bc(0,"i",37),s.Sc(1,"Claims "))}function Lt(e,t){1&e&&(s.gc(0,"div",46),s.gc(1,"div",47),s.bc(2,"claims-manager",48),s.fc(),s.bc(3,"div",17),s.gc(4,"div",49),s.gc(5,"nz-collapse",19),s.gc(6,"nz-collapse-panel",20),s.gc(7,"label",50),s.Sc(8," Always Send Client Claims "),s.fc(),s.bc(9,"br"),s.gc(10,"label",51),s.Sc(11," Always Include User Claims In IdToken "),s.fc(),s.bc(12,"br"),s.gc(13,"label",52),s.Sc(14," Update AccessToken Claims On Refresh "),s.fc(),s.bc(15,"br"),s.fc(),s.gc(16,"nz-collapse-panel",53),s.gc(17,"nz-form-control"),s.bc(18,"input",54),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&e&&(s.Mb(5),s.yc("nzBordered",!0),s.Mb(1),s.yc("nzActive",!0))}function Qt(e,t){1&e&&(s.bc(0,"i",37),s.Sc(1,"Advanced Settings "))}function jt(e,t){1&e&&(s.gc(0,"div",55),s.gc(1,"nz-collapse",56),s.gc(2,"nz-collapse-panel",57),s.bc(3,"simple-list",58),s.fc(),s.gc(4,"nz-collapse-panel",59),s.bc(5,"simple-list",60),s.fc(),s.gc(6,"nz-collapse-panel",61),s.bc(7,"simple-list",62),s.fc(),s.gc(8,"nz-collapse-panel",63),s.gc(9,"table",64),s.gc(10,"thead"),s.gc(11,"tr"),s.bc(12,"th",65),s.bc(13,"th",66),s.fc(),s.fc(),s.gc(14,"tbody"),s.gc(15,"tr"),s.gc(16,"td"),s.Sc(17,"IdentityToken"),s.fc(),s.gc(18,"td"),s.bc(19,"nz-input-number",67),s.fc(),s.fc(),s.gc(20,"tr"),s.gc(21,"td"),s.Sc(22,"AccessToken"),s.fc(),s.gc(23,"td"),s.bc(24,"nz-input-number",68),s.fc(),s.fc(),s.gc(25,"tr"),s.gc(26,"td"),s.Sc(27,"AuthorizationCode"),s.fc(),s.gc(28,"td"),s.bc(29,"nz-input-number",69),s.fc(),s.fc(),s.gc(30,"tr"),s.gc(31,"td"),s.Sc(32,"AbsoluteRefreshToken"),s.fc(),s.gc(33,"td"),s.bc(34,"nz-input-number",70),s.fc(),s.fc(),s.gc(35,"tr"),s.gc(36,"td"),s.Sc(37,"SlidingRefreshToken"),s.fc(),s.gc(38,"td"),s.bc(39,"nz-input-number",71),s.fc(),s.fc(),s.gc(40,"tr"),s.gc(41,"td"),s.Sc(42,"UserSsoLifetime"),s.fc(),s.gc(43,"td"),s.bc(44,"nz-input-number",72),s.fc(),s.fc(),s.gc(45,"tr"),s.gc(46,"td"),s.Sc(47,"DeviceCodeLifetime"),s.fc(),s.gc(48,"td"),s.bc(49,"nz-input-number",73),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.fc()),2&e&&(s.Mb(1),s.yc("nzBordered",!0),s.Mb(18),s.yc("nzStep",1),s.Mb(5),s.yc("nzStep",1),s.Mb(5),s.yc("nzStep",1),s.Mb(5),s.yc("nzStep",1),s.Mb(5),s.yc("nzStep",1),s.Mb(5),s.yc("nzStep",1),s.Mb(5),s.yc("nzStep",1))}function Bt(e,t){1&e&&(s.bc(0,"i",76),s.Sc(1,"Debug"))}function $t(e,t){if(1&e&&(s.gc(0,"nz-tab",4),s.Qc(1,Bt,2,0,"ng-template",null,74,s.Rc),s.gc(3,"div",75),s.gc(4,"pre"),s.Sc(5),s.sc(6,"json"),s.fc(),s.fc(),s.fc()),2&e){const e=s.Gc(2),t=s.rc(2);s.yc("nzTitle",e),s.Mb(5),s.Tc(s.tc(6,2,t.form.value))}}const Ht=function(){return{inkBar:!0,tabPane:!1}},Wt=function(){return{minRows:4,maxRows:12}};function Vt(e,t){if(1&e&&(s.ec(0),s.gc(1,"form",2),s.gc(2,"nz-tabset",3),s.gc(3,"nz-tab",4),s.Qc(4,Ut,2,0,"ng-template",null,5,s.Rc),s.gc(6,"div",6),s.gc(7,"div",7),s.gc(8,"div",8),s.gc(9,"div",9),s.gc(10,"nz-form-label",10),s.Sc(11,"ClientId"),s.fc(),s.gc(12,"nz-form-control"),s.bc(13,"input",11),s.fc(),s.fc(),s.fc(),s.gc(14,"div",8),s.gc(15,"div",9),s.gc(16,"nz-form-label",12),s.Sc(17,"ClientName"),s.fc(),s.gc(18,"nz-form-control"),s.bc(19,"input",13),s.fc(),s.fc(),s.fc(),s.gc(20,"div",8),s.gc(21,"div",9),s.gc(22,"nz-form-label",14),s.Sc(23,"Description"),s.fc(),s.gc(24,"nz-form-control"),s.bc(25,"textarea",15),s.fc(),s.fc(),s.fc(),s.gc(26,"div",8),s.gc(27,"div",9),s.gc(28,"nz-form-label",14),s.Sc(29,"Client Secrets"),s.fc(),s.gc(30,"nz-form-control"),s.bc(31,"secrets-manager",16),s.fc(),s.fc(),s.fc(),s.fc(),s.bc(32,"div",17),s.gc(33,"div",18),s.gc(34,"nz-collapse",19),s.gc(35,"nz-collapse-panel",20),s.gc(36,"label",21),s.Sc(37," Enabled "),s.fc(),s.bc(38,"br"),s.gc(39,"label",22),s.Sc(40," Require Client Secret "),s.fc(),s.bc(41,"br"),s.gc(42,"label",23),s.Sc(43," Require Pkce "),s.fc(),s.bc(44,"br"),s.gc(45,"label",24),s.Sc(46," Allow PlainText Pkce "),s.fc(),s.bc(47,"br"),s.fc(),s.gc(48,"nz-collapse-panel",25),s.gc(49,"label",26),s.Sc(50," Implicit "),s.fc(),s.bc(51,"br"),s.gc(52,"label",27),s.Sc(53," Hybrid "),s.fc(),s.bc(54,"br"),s.gc(55,"label",28),s.Sc(56," Authorization Code "),s.fc(),s.bc(57,"br"),s.gc(58,"label",29),s.Sc(59," Client Credentials "),s.fc(),s.bc(60,"br"),s.gc(61,"label",30),s.Sc(62," Resource Owner Password "),s.fc(),s.bc(63,"br"),s.gc(64,"label",31),s.Sc(65," Device Flow "),s.fc(),s.bc(66,"br"),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.gc(67,"nz-tab",4),s.Qc(68,Ft,2,0,"ng-template",null,32,s.Rc),s.Qc(70,Gt,28,6,"ng-template",33),s.fc(),s.gc(71,"nz-tab",4),s.Qc(72,Et,2,0,"ng-template",null,34,s.Rc),s.Qc(74,Lt,19,2,"ng-template",33),s.fc(),s.gc(75,"nz-tab",4),s.Qc(76,Qt,2,0,"ng-template",null,35,s.Rc),s.Qc(78,jt,50,8,"ng-template",33),s.fc(),s.Qc(79,$t,7,4,"nz-tab",36),s.sc(80,"async"),s.fc(),s.fc(),s.dc()),2&e){const e=s.Gc(5),t=s.Gc(69),n=s.Gc(73),i=s.Gc(77),c=s.rc();s.Mb(1),s.yc("formGroup",c.form),s.Mb(1),s.yc("nzAnimated",s.Ac(17,Ht)),s.Mb(1),s.yc("nzTitle",e),s.Mb(5),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(5),s.yc("nzAutosize",s.Ac(18,Wt)),s.Mb(1),s.yc("nzGutter",8),s.Mb(8),s.yc("nzBordered",!0),s.Mb(1),s.yc("nzActive",!0),s.Mb(13),s.yc("nzActive",!0),s.Mb(19),s.yc("nzTitle",t),s.Mb(4),s.yc("nzTitle",n),s.Mb(4),s.yc("nzTitle",i),s.Mb(4),s.yc("ngIf",s.tc(80,15,c.showDebugInformations$))}}function qt(e,t){if(1&e){const e=s.hc();s.gc(0,"button",77),s.oc("click",(function(){return s.Ic(e),s.rc().Reload()})),s.bc(1,"i",78),s.Sc(2,"Reload"),s.fc()}}const Xt=["itemsContextMenu"];function Jt(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().EditApiResource(t.First)})),s.bc(1,"i",7),s.Sc(2," Edit ApiResource "),s.fc()}}function Yt(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveApiResource(t.SelectedData)})),s.bc(1,"i",8),s.Sc(2," Delete ApiResource "),s.fc()}}function Kt(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddApiResource()})),s.bc(2,"i",5),s.Sc(3," Add ApiResource "),s.fc(),s.Qc(4,Jt,3,0,"li",6),s.Qc(5,Yt,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(4),s.yc("ngIf",e.Single),s.Mb(1),s.yc("ngIf",e.Any)}}function Zt(e,t){if(1&e){const e=s.hc();s.gc(0,"button",9),s.oc("click",(function(){return s.Ic(e),s.rc().ReloadApiResourcesList()})),s.bc(1,"i",10),s.Sc(2,"Reload Api-Resources"),s.fc()}}function en(e,t){1&e&&(s.bc(0,"i",29),s.Sc(1,"Basic "))}function tn(e,t){1&e&&(s.bc(0,"i",32),s.Sc(1,"Debug"))}function nn(e,t){if(1&e&&(s.gc(0,"nz-tab",4),s.Qc(1,tn,2,0,"ng-template",null,30,s.Rc),s.gc(3,"div",31),s.gc(4,"pre"),s.Sc(5),s.sc(6,"json"),s.fc(),s.fc(),s.fc()),2&e){const e=s.Gc(2),t=s.rc(2);s.yc("nzTitle",e),s.Mb(5),s.Tc(s.tc(6,2,t.form.value))}}const cn=function(){return{inkBar:!0,tabPane:!1}},on=function(){return{minRows:4,maxRows:12}};function rn(e,t){if(1&e&&(s.ec(0),s.gc(1,"form",2),s.gc(2,"nz-tabset",3),s.gc(3,"nz-tab",4),s.Qc(4,en,2,0,"ng-template",null,5,s.Rc),s.gc(6,"div",6),s.gc(7,"div",7),s.gc(8,"div",8),s.gc(9,"div",9),s.gc(10,"nz-form-label",10),s.Sc(11,"Name"),s.fc(),s.gc(12,"nz-form-control"),s.bc(13,"input",11),s.fc(),s.fc(),s.fc(),s.gc(14,"div",8),s.gc(15,"div",9),s.gc(16,"nz-form-label",12),s.Sc(17,"DisplayName"),s.fc(),s.gc(18,"nz-form-control"),s.bc(19,"input",13),s.fc(),s.fc(),s.fc(),s.gc(20,"div",8),s.gc(21,"div",9),s.gc(22,"nz-form-label",14),s.Sc(23,"Description"),s.fc(),s.gc(24,"nz-form-control"),s.bc(25,"textarea",15),s.fc(),s.fc(),s.fc(),s.gc(26,"div",8),s.gc(27,"div",9),s.gc(28,"nz-form-label",14),s.Sc(29,"Secrets"),s.fc(),s.gc(30,"nz-form-control"),s.bc(31,"secrets-manager",16),s.fc(),s.fc(),s.fc(),s.fc(),s.bc(32,"div",17),s.gc(33,"div",18),s.gc(34,"nz-collapse",19),s.gc(35,"nz-collapse-panel",20),s.gc(36,"label",21),s.Sc(37," Enabled "),s.fc(),s.bc(38,"br"),s.gc(39,"label",22),s.Sc(40," Show in Discovery Document "),s.fc(),s.bc(41,"br"),s.gc(42,"label",23),s.Sc(43," Allowed AccessToken SigningAlgorithms "),s.fc(),s.fc(),s.gc(44,"nz-collapse-panel",24),s.bc(45,"simple-list",25),s.fc(),s.gc(46,"nz-collapse-panel",26),s.bc(47,"simple-list",27),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.Qc(48,nn,7,4,"nz-tab",28),s.sc(49,"async"),s.fc(),s.fc(),s.dc()),2&e){const e=s.Gc(5),t=s.rc();s.Mb(1),s.yc("formGroup",t.form),s.Mb(1),s.yc("nzAnimated",s.Ac(13,cn)),s.Mb(1),s.yc("nzTitle",e),s.Mb(5),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(5),s.yc("nzAutosize",s.Ac(14,on)),s.Mb(1),s.yc("nzGutter",8),s.Mb(8),s.yc("nzBordered",!0),s.Mb(1),s.yc("nzActive",!0),s.Mb(13),s.yc("ngIf",s.tc(49,11,t.showDebugInformations$))}}function sn(e,t){if(1&e){const e=s.hc();s.gc(0,"button",33),s.oc("click",(function(){return s.Ic(e),s.rc().Reload()})),s.bc(1,"i",34),s.Sc(2,"Reload"),s.fc()}}const ln=["itemsContextMenu"];function an(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().EditIdentityResource(t.First)})),s.bc(1,"i",7),s.Sc(2," Edit IdentityResource "),s.fc()}}function dn(e,t){if(1&e){const e=s.hc();s.gc(0,"li",4),s.oc("click",(function(){s.Ic(e);const t=s.rc().$implicit;return s.rc().RemoveIdentityResource(t.SelectedData)})),s.bc(1,"i",8),s.Sc(2," Delete IdentityResource "),s.fc()}}function un(e,t){if(1&e){const e=s.hc();s.gc(0,"ul",3),s.gc(1,"li",4),s.oc("click",(function(){return s.Ic(e),s.rc().AddIdentityResource()})),s.bc(2,"i",5),s.Sc(3," Add IdentityResource "),s.fc(),s.Qc(4,an,3,0,"li",6),s.Qc(5,dn,3,0,"li",6),s.fc()}if(2&e){const e=t.$implicit;s.Mb(4),s.yc("ngIf",e.Single),s.Mb(1),s.yc("ngIf",e.Any)}}function fn(e,t){if(1&e){const e=s.hc();s.gc(0,"button",9),s.oc("click",(function(){return s.Ic(e),s.rc().ReloadIdentityResourcesList()})),s.bc(1,"i",10),s.Sc(2,"Reload Identity-Resources"),s.fc()}}function hn(e,t){1&e&&(s.bc(0,"i",27),s.Sc(1,"Basic "))}function gn(e,t){1&e&&(s.bc(0,"i",30),s.Sc(1,"Debug"))}function pn(e,t){if(1&e&&(s.gc(0,"nz-tab",4),s.Qc(1,gn,2,0,"ng-template",null,28,s.Rc),s.gc(3,"div",29),s.gc(4,"pre"),s.Sc(5),s.sc(6,"json"),s.fc(),s.fc(),s.fc()),2&e){const e=s.Gc(2),t=s.rc(2);s.yc("nzTitle",e),s.Mb(5),s.Tc(s.tc(6,2,t.form.value))}}const mn=function(){return{inkBar:!0,tabPane:!1}},bn=function(){return{minRows:4,maxRows:12}};function Cn(e,t){if(1&e&&(s.ec(0),s.gc(1,"form",2),s.gc(2,"nz-tabset",3),s.gc(3,"nz-tab",4),s.Qc(4,hn,2,0,"ng-template",null,5,s.Rc),s.gc(6,"div",6),s.gc(7,"div",7),s.gc(8,"div",8),s.gc(9,"div",9),s.gc(10,"nz-form-label",10),s.Sc(11,"Name"),s.fc(),s.gc(12,"nz-form-control"),s.bc(13,"input",11),s.fc(),s.fc(),s.fc(),s.gc(14,"div",8),s.gc(15,"div",9),s.gc(16,"nz-form-label",12),s.Sc(17,"DisplayName"),s.fc(),s.gc(18,"nz-form-control"),s.bc(19,"input",13),s.fc(),s.fc(),s.fc(),s.gc(20,"div",8),s.gc(21,"div",9),s.gc(22,"nz-form-label",14),s.Sc(23,"Description"),s.fc(),s.gc(24,"nz-form-control"),s.bc(25,"textarea",15),s.fc(),s.fc(),s.fc(),s.fc(),s.bc(26,"div",16),s.gc(27,"div",17),s.gc(28,"nz-collapse",18),s.gc(29,"nz-collapse-panel",19),s.gc(30,"label",20),s.Sc(31," Enabled "),s.fc(),s.bc(32,"br"),s.gc(33,"label",21),s.Sc(34," Required "),s.fc(),s.bc(35,"br"),s.gc(36,"label",22),s.Sc(37," Emphasize "),s.fc(),s.bc(38,"br"),s.gc(39,"label",23),s.Sc(40," Show in Discovery Document "),s.fc(),s.fc(),s.gc(41,"nz-collapse-panel",24),s.bc(42,"simple-list",25),s.fc(),s.fc(),s.fc(),s.fc(),s.fc(),s.Qc(43,pn,7,4,"nz-tab",26),s.sc(44,"async"),s.fc(),s.fc(),s.dc()),2&e){const e=s.Gc(5),t=s.rc();s.Mb(1),s.yc("formGroup",t.form),s.Mb(1),s.yc("nzAnimated",s.Ac(12,mn)),s.Mb(1),s.yc("nzTitle",e),s.Mb(5),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(6),s.yc("nzGutter",8),s.Mb(5),s.yc("nzAutosize",s.Ac(13,bn)),s.Mb(3),s.yc("nzBordered",!0),s.Mb(1),s.yc("nzActive",!0),s.Mb(14),s.yc("ngIf",s.tc(44,10,t.showDebugInformations$))}}function Sn(e,t){if(1&e){const e=s.hc();s.gc(0,"button",31),s.oc("click",(function(){return s.Ic(e),s.rc().Reload()})),s.bc(1,"i",32),s.Sc(2,"Reload"),s.fc()}}const vn=[{path:"users",component:F},{path:"users/:id",component:He},{path:"roles",component:B},{path:"roles/:id",component:mt},{path:"clients",component:X},{path:"clients/:id",component:(()=>{class e{constructor(e,t,n,i,c){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=c,this.user$=Object(J.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(Y.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetClient(this.Id))),Object(K.a)(),Object(a.a)(e=>this.setClient(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,this.initForm(),e.Set(e=>{e.Header.Title="Client",e.Content.Scrollable=!1,e.Header.Icon="fa#user",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){}initForm(){this.form=this.fb.group({Id:[null],ClientId:[null],ClientName:[null],Description:[null],Enabled:[null],RequireClientSecret:[null],RequirePkce:[null],AllowPlainTextPkce:[!1],AllowedGrantTypes:[[]],ClientUri:[null],LogoUri:[null],RequireConsent:[null],AllowRememberConsent:[!1],ConsentLifetime:[null],Claims:[[]],AlwaysIncludeUserClaimsInIdToken:[!1],UpdateAccessTokenClaimsOnRefresh:[!1],AlwaysSendClientClaims:[!1],ClientClaimsPrefix:[null],IdentityTokenLifetime:[null],AccessTokenLifetime:[null],AuthorizationCodeLifetime:[null],AbsoluteRefreshTokenLifetime:[null],SlidingRefreshTokenLifetime:[null],UserSsoLifetime:[null],DeviceCodeLifetime:[null],ProtocolType:[null],ClientSecrets:[[]],RequireRequestObject:[!1],AllowAccessTokensViaBrowser:[!1],RedirectUris:[[]],PostLogoutRedirectUris:[[]],FrontChannelLogoutUri:[null],FrontChannelLogoutSessionRequired:[!1],BackChannelLogoutUri:[null],BackChannelLogoutSessionRequired:[!1],AllowOfflineAccess:[!1],AllowedScopes:[[]],AllowedIdentityTokenSigningAlgorithms:[null],RefreshTokenUsage:[null],RefreshTokenExpiration:[null],AccessTokenType:[null],EnableLocalLogin:[!1],IdentityProviderRestrictions:[[]],IncludeJwtId:[!1],PairWiseSubjectSalt:[null],AllowedCorsOrigins:[[]],UserCodeType:[null],NonEditable:[!1]})}Save(){console.log(this),"create"==this.Id?this.idService.CreateClient(this.form.value).subscribe():this.idService.UpdateClient(this.form.value).subscribe()}setClient(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="Client",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create Client",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetClient(this.Id).subscribe(e=>{this.setClient(e)})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(c.d),s.ac(o.a),s.ac(x),s.ac(s.h))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","ClientId"],["nz-input","","formControlName","ClientId","id","ClientId",2,"flex-grow","1"],["nzRequired","","nzFor","ClientName"],["nz-input","","formControlName","ClientName","id","ClientName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],["formControlName","ClientSecrets",2,"height","200px"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],[3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","RequireClientSecret"],["nz-checkbox","","formControlName","RequirePkce"],["nz-checkbox","","formControlName","AllowPlainTextPkce"],["nzHeader","AllowedGrantTypes","dbCheckboxGroup","","formControlName","AllowedGrantTypes","returnType","array",3,"nzActive"],["nz-checkbox","","nzValue","implicit"],["nz-checkbox","","nzValue","hybrid"],["nz-checkbox","","nzValue","authorization_code"],["nz-checkbox","","nzValue","client_credentials"],["nz-checkbox","","nzValue","password"],["nz-checkbox","","nzValue","urn:ietf:params:oauth:grant-type:device_code"],["ConsentTitle",""],["nz-tab",""],["ClaimsTitle",""],["AdvancedTitle",""],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["nzFor","ClientUri"],["nz-input","","formControlName","ClientUri","id","ClientUri",2,"width","100%"],["nzFor","LogoUri"],["nz-input","","formControlName","LogoUri","id","LogoUri",2,"width","100%"],["nz-checkbox","","formControlName","RequireConsent"],["nz-checkbox","","formControlName","AllowRememberConsent"],["nzHeader","Consent Lifetime",3,"nzActive"],["formControlName","ConsentLifetime",2,"width","100%",3,"nzStep"],[2,"display","flex","flex-direction","row","padding","3px","flex-grow","1"],[2,"display","flex","flex-direction","row","flex-grow","1"],["formControlName","Claims"],[2,"width","25%"],["nz-checkbox","","formControlName","AlwaysSendClientClaims"],["nz-checkbox","","formControlName","AlwaysIncludeUserClaimsInIdToken"],["nz-checkbox","","formControlName","UpdateAccessTokenClaimsOnRefresh"],["nzHeader","Client Claims Prefix"],["nz-input","","formControlName","ClientClaimsPrefix","id","ClientClaimsPrefix",2,"width","100%"],[2,"display","flex","flex-direction","column","padding","3px","flex-grow","1"],[1,"bold-header",3,"nzBordered"],["nzHeader","Redirect Uris",1,"small-padding"],["header","Name","formControlName","RedirectUris",2,"height","300px"],["nzHeader","Post Logout Redirect Uris",1,"small-padding"],["header","Name","formControlName","PostLogoutRedirectUris",2,"height","300px"],["nzHeader","Allowed Cors Origins",1,"small-padding"],["header","Name","formControlName","AllowedCorsOrigins",2,"height","300px"],["nzHeader","Lifetime Options (in seconds)"],[1,"ui","table","compact"],[2,"width","200px"],[2,"width","300px"],["formControlName","IdentityTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","AccessTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","AuthorizationCodeLifetime",2,"width","100%",3,"nzStep"],["formControlName","AbsoluteRefreshTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","SlidingRefreshTokenLifetime",2,"width","100%",3,"nzStep"],["formControlName","UserSsoLifetime",2,"width","100%",3,"nzStep"],["formControlName","DeviceCodeLifetime",2,"width","100%",3,"nzStep"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.Qc(0,Vt,81,19,"ng-container",0),s.sc(1,"async"),s.Qc(2,qt,3,0,"ng-template",1)),2&e&&s.yc("ngIf",s.tc(1,1,t.user$))},directives:[i.t,R.e,c.q,c.m,Z.b,c.g,ee.c,ee.a,te.c,te.a,Z.d,Z.a,ne.b,c.c,c.l,c.f,ne.a,Rt,ce.a,ce.c,ie.a,re.b,ee.b,k.a,I.b,Ot.a,_e,At,Nt.e,Nt.f,Nt.a,Nt.d,Nt.c,T.a,D.a],pipes:[i.b,i.k],styles:[""]}),e})()},{path:"api-resources",component:(()=>{class e{constructor(e,t,n,i,c,o,s){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=c,this.viewContainerRef=o,this.apiResourcesQuery=s,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0,e.headerCheckboxSelectionFilteredOnly=!0}),e=>e.Default("Name"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllApiResources()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditApiResource(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Api-Resources",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes"})}AddApiResource(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditApiResource(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveApiResource(e){var t;this.idService.DeleteApiResource(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadApiResourcesList(){this.idService.ReLoadApiResources()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(x),s.ac(o.i),s.ac(o.a),s.ac(M.c),s.ac(s.Y),s.ac(S))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&s.Xc(Xt,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,Kt,6,2,"ng-template",null,1,s.Rc),s.Qc(3,Zt,3,0,"ng-template",2)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,R.e,O.c,k.a,O.e,I.b,i.t,T.a,D.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})()},{path:"api-resources/:id",component:(()=>{class e{constructor(e,t,n,i,c){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=c,this.user$=Object(J.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(Y.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetApiResource(this.Id))),Object(K.a)(),Object(a.a)(e=>this.setApiResource(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="ApiResource",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Name:[null,c.p.required],DisplayName:[null,c.p.required],Description:[null],Enabled:[],AllowedAccessTokenSigningAlgorithms:[],ShowInDiscoveryDocument:[],Secrets:[[]],Scopes:[[]],UserClaims:[[]],Properties:[]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateApiResource(this.form.value).subscribe():this.idService.UpdateApiResource(this.form.value).subscribe()}setApiResource(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="ApiResource",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create ApiResource",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetApiResource(this.Id).subscribe(e=>{this.setApiResource(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(c.d),s.ac(o.a),s.ac(x),s.ac(s.h))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],["formControlName","Secrets",2,"height","200px"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nz-checkbox","","formControlName","AllowedAccessTokenSigningAlgorithms"],["nzHeader","Scopes",1,"small-padding"],["header","Name","formControlName","Scopes",2,"height","300px"],["nzHeader","User Claims",1,"small-padding"],["header","Name","formControlName","UserClaims",2,"height","300px"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.Qc(0,rn,50,15,"ng-container",0),s.sc(1,"async"),s.Qc(2,sn,3,0,"ng-template",1)),2&e&&s.yc("ngIf",s.tc(1,1,t.user$))},directives:[i.t,R.e,c.q,c.m,Z.b,c.g,ee.c,ee.a,te.c,te.a,Z.d,Z.a,ne.b,c.c,c.l,c.f,ne.a,Rt,ce.a,ce.c,ie.a,At,k.a,I.b,T.a,D.a],pipes:[i.b,i.k],styles:[""]}),e})()},{path:"identity-resources",component:(()=>{class e{constructor(e,t,n,i,c,o,s){this.uiService=e,this.idService=t,this.router=n,this.route=i,this.overlay=c,this.viewContainerRef=o,this.identityResourcesQuery=s,this.grid=(new r.d).SetColumns(e=>e.Default("").SetMaxWidth(40).SetMaxWidth(40).SuppressSizeToFit().Set(e=>{e.headerCheckboxSelection=!0,e.checkboxSelection=!0,e.headerCheckboxSelectionFilteredOnly=!0}),e=>e.Default("Name"),e=>e.Default("DisplayName"),e=>e.Default("Description")).SetData(this.idService.GetAllIdentityResources()).WithRowSelection("multiple").WithFullRowEditType().WithShiftResizeMode().OnCellContextMenu(e=>{const t=e.api.getSelectedNodes();0!=t.length&&t.includes(e.node)||e.node.setSelected(!0,!0);let n=new r.a(e.api,e.event);this.contextMenu=this.overlay.OpenContextMenu(e.event,this.itemsContextMenu,this.viewContainerRef,n)}).OnViewPortContextMenu((e,t)=>{let n=new r.a(t,e);this.contextMenu=this.overlay.OpenContextMenu(e,this.itemsContextMenu,this.viewContainerRef,n)}).OnRowDoubleClicked(e=>{this.EditIdentityResource(e.node.data)}).StopEditingWhenGridLosesFocus().OnGridSizeChange(e=>e.api.sizeColumnsToFit()).OnViewPortClick((e,t)=>{t.deselectAll()}).SetRowClassRules({deleted:"data.Deleted"}).SetDataImmutable(e=>e.Id),e.Set(e=>{e.Header.Title="IDP / Identity-Resources",e.Content.Scrollable=!1,e.Header.Icon="fa#far|address-card"})}AddIdentityResource(){var e;this.router.navigate(["create"],{relativeTo:this.route}),null===(e=this.contextMenu)||void 0===e||e.Close()}EditIdentityResource(e){var t;this.router.navigate([e.Id],{relativeTo:this.route}),null===(t=this.contextMenu)||void 0===t||t.Close()}RemoveIdentityResource(e){var t;this.idService.DeleteIdentityResource(...e.map(e=>e.Id)).subscribe(),null===(t=this.contextMenu)||void 0===t||t.Close()}ReloadIdentityResourcesList(){this.idService.ReLoadIdentityResources()}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(x),s.ac(o.i),s.ac(o.a),s.ac(M.c),s.ac(s.Y),s.ac(y))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&s.Xc(ln,!0),2&e&&s.Fc(n=s.pc())&&(t.itemsContextMenu=n.first)},decls:4,vars:1,consts:[[1,"ag-theme-balham",3,"dbGrid"],["itemsContextMenu",""],["dbPortalTemplate","Header-Outlet-Right"],["nz-menu","","nzMode","vertical",1,"context-menu"],["nz-menu-item","",3,"click"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.bc(0,"ag-grid-angular",0),s.Qc(1,un,6,2,"ng-template",null,1,s.Rc),s.Qc(3,fn,3,0,"ng-template",2)),2&e&&s.yc("dbGrid",t.grid)},directives:[w.a,r.b,R.e,O.c,k.a,O.e,I.b,i.t,T.a,D.a],styles:["[_nghost-%COMP%]{padding:10px 0}"]}),e})()},{path:"identity-resources/:id",component:(()=>{class e{constructor(e,t,n,i,c){this.uiService=e,this.fb=t,this.route=n,this.idService=i,this.cref=c,this.user$=Object(J.a)(this.route.paramMap,this.route.queryParamMap,this.route.fragment).pipe(Object(Y.a)(([e,t,n])=>(this.Id=e.get("id"),this.idService.GetIdentityResource(this.Id))),Object(K.a)(),Object(a.a)(e=>this.setIdentityResource(e))),this.showDebugInformations$=this.uiService.showDebugInformations$,e.Set(e=>{e.Header.Title="IdentityResource",e.Content.Scrollable=!1,e.Header.Icon="fa#cubes",e.Footer.Show=!0,e.Footer.Button1.Text="Save",e.Footer.Button2.Text="Reset",e.Footer.Button1.OnClick=()=>this.Save(),e.Footer.Button2.OnClick=()=>{this.form.reset(this.BaseDto)}})}ngOnInit(){this.form=this.fb.group({Id:[null],Enabled:[],Name:[null,c.p.required],DisplayName:[null,c.p.required],Description:[null],Required:[],Emphasize:[],ShowInDiscoveryDocument:[],UserClaims:[[]],Properties:[]})}onOk(e){e.setHours(23,59,0,0)}Save(){console.log(this),"create"==this.Id?this.idService.CreateIdentityResource(this.form.value).subscribe():this.idService.UpdateIdentityResource(this.form.value).subscribe()}setIdentityResource(e){this.BaseDto||(this.BaseDto=e),this.uiService.Set(t=>{t.Header.Title="IdentityResource",t.Header.Icon="form",t.Footer.Button1.Visible=!0,t.Footer.Button1.Text=e.Id?"Save Changes":"Create IdentityResource",t.Footer.Button2.Visible=!0}),this.form.patchValue(e)}Reload(){this.idService.GetIdentityResource(this.Id).subscribe(e=>{this.setIdentityResource(e),this.idService.ReLoadUsers()})}set BaseDto(e){this._baseDto=JSON.parse(JSON.stringify(e))}get BaseDto(){return this._baseDto}}return e.\u0275fac=function(t){return new(t||e)(s.ac(l.a),s.ac(c.d),s.ac(o.a),s.ac(x),s.ac(s.h))},e.\u0275cmp=s.Ub({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[[4,"ngIf"],["dbPortalTemplate","Header-Outlet-Right"],["nzNoColon","","nz-form","",2,"flex-grow","1","display","flex","flex-direction","column","overflow","hidden",3,"formGroup"],[3,"nzAnimated"],[3,"nzTitle"],["BasicTitle",""],[2,"display","flex","flex-direction","row","padding","3px"],[2,"flex-grow","1"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],["nzRequired","","nzFor","Name"],["nz-input","","formControlName","Name","id","Name",2,"width","100%"],["nzRequired","","nzFor","DisplayName"],["nz-input","","formControlName","DisplayName","id","DisplayName",2,"width","100%"],["nzFor","Description"],["nz-input","","formControlName","Description","id","Description",3,"nzAutosize"],[2,"width","10px","margin-right","10px"],[2,"width","30%"],["nzAccordion","",3,"nzBordered"],["nzHeader","Options",3,"nzActive"],["nz-checkbox","","formControlName","Enabled"],["nz-checkbox","","formControlName","Required"],["nz-checkbox","","formControlName","Emphasize"],["nz-checkbox","","formControlName","ShowInDiscoveryDocument"],["nzHeader","User Claims"],["header","Name","formControlName","UserClaims",2,"height","300px"],[3,"nzTitle",4,"ngIf"],["nz-icon","","nzType","container"],["DebugTitle",""],[2,"height","100%"],["nz-icon","","nzType","bug"],["nz-button","",3,"click"],["nz-icon","","nzType","sync"]],template:function(e,t){1&e&&(s.Qc(0,Cn,45,14,"ng-container",0),s.sc(1,"async"),s.Qc(2,Sn,3,0,"ng-template",1)),2&e&&s.yc("ngIf",s.tc(1,1,t.user$))},directives:[i.t,R.e,c.q,c.m,Z.b,c.g,ee.c,ee.a,te.c,te.a,Z.d,Z.a,ne.b,c.c,c.l,c.f,ne.a,ce.a,ce.c,ie.a,At,k.a,I.b,T.a,D.a],pipes:[i.b,i.k],styles:[""]}),e})()}];let yn=(()=>{class e{}return e.\u0275mod=s.Yb({type:e}),e.\u0275inj=s.Xb({factory:function(t){return new(t||e)},imports:[[o.l.forChild(vn)],o.l]}),e})();var zn=n("DTEk");let xn=(()=>{class e{}return e.\u0275mod=s.Yb({type:e}),e.\u0275inj=s.Xb({factory:function(t){return new(t||e)},imports:[[i.c,c.o,c.i,yn,M.a,r.c,zn.a]]}),e})()}}]);